{"version":3,"sources":["views/recomend/store/actionType.js","views/recomend/store/reducer.js","views/recomend/store/actionCreators.js","views/recomend/store/index.js","common/musicStart/style.js","common/musicStart/index.js","style.js","router/index.js","views/player/style.js","utils/lrcParse.js","views/player/lrc/scroll.js","views/player/lrc/style.js","views/player/lrc/index.js","views/player/list.js","views/player/index.js","App.js","serviceWorker.js","index.js","utils/fetch.js","api/index.js","store/reducer.js","store/index.js","common/scroll/style.js","common/scroll/index.js","views/player/store/actionType.js","views/player/store/reducer.js","views/player/store/actionCreators.js","views/player/store/index.js"],"names":["defaultState","fromJS","focused","banner","personal","state","action","type","value","set","searchFoucs","flag","setBanner","res","setPersonal","getList","dispatch","getBaner","api","then","banners","catch","err","console","log","getPersonal","result","Wrap","styled","div","MusicStart","forwardRef","props","ref","wrapRef","useRef","iconRef","arrRef","useState","arr","setArr","useImperativeHandle","getPositon","useEffect","i","current","push","loading","x","y","index","wrap","icon","style","addEventListener","setTimeout","length","map","item","React","createRef","className","key","Globalstyle","createGlobalStyle","SuspenseComponent","Component","fallback","Header","lazy","Detail","Search","SingerDetail","routes","path","component","exact","rotate1","keyframes","rotate2","rotate3","AudioWrap","IPlayer","Nplayer","PlayListI","paserLrc","lrc","time","timer","reg","arr1","match","arr2","replace","split","slice","arrtime","time2","parseInt","parseFloat","LrcScroll","yy","currentLineNum","lyricLineRef","lineEl","setLineEl","goNext","useCallback","max","defaultProps","memo","connect","lyric","getIn","src","getlrc","id","actionsCreators","setYy","setCurrentLineNum","setTime","forEach","player2","openMusic","getSrc","action2","setCurrentPlayer","removeSong","list","playList","showListflag","goList","start","setStart","distance","setDistance","initialed","setInitialed","moveRef","canmoveRef","startRef","goremoveSong","e","stopPropagation","onClick","onTouchStart","nativeEvent","touches","pageY","onTouchMove","distance2","onTouchEnd","bounceTop","handleScroll","pos","goSong","PlayCircleFilled","title","DeleteFilled","Player","play","volume","showMini","circle","xy","setplay","setCurrenttimestate","toggleMini","toggleCircle","openPlayer","duration","setDuration","currentTime","setCurrentTime","setShowListflag","audioRef","playerRef","musicRef","autoplay","loop","pause","PauseCircleFilled","getSecondMin","sec","min","sec2","mini","CSSTransition","classNames","in","timeout","appear","unmountOnExit","pic","alt","singer","AlignRightOutlined","normal","DownOutlined","onChange","setDurationsit","ShrinkOutlined","LoginOutlined","SyncOutlined","VerticalRightOutlined","VerticalLeftOutlined","controls","onTimeUpdate","setPlay","setVolume","num","setCurrenttime","size","renderRoutes","Boolean","window","location","hostname","ReactDOM","render","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","fetch","options","opts","Object","assign","method","url","actionsCreatorsPlayer","setLoading","Promise","resolve","reject","Axios","data","code","getSongUr","params","getPlaylistDetail","getSongUrlSrc","getSongLrc","getSearch","getArtists","getArtistsList","getArtistsListDetail","getTopList","getSongsDetail","combineReducers","recomend","recomendReducer","player","PlayerReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","applyMiddleware","thunk","ScrollCont","Scroll","bounceBottom","usescollRef","scrollToElement","BScroll","scrollY","click","mouseWheel","probeType","bounce","top","bottom","on","children","playerinfo","get","unshift","setSrc","setXY","setlrc","setPlaylist","pushPlaylist","song","index1","list1","JSON","parse","stringify","splice"],"mappings":"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","file":"static/js/main.d8b7d600.chunk.js","sourcesContent":["export const SET_SEARCH = 'heder/search'\r\nexport const SET_BANNER = 'heder/banner'\r\nexport const SET_PERSONAL = 'heder/personalized'","import { SET_SEARCH, SET_BANNER, SET_PERSONAL } from './actionType'\r\n// immutable 库\r\nimport { fromJS } from 'immutable'\r\nconst defaultState = fromJS({\r\n  focused: false,\r\n  banner: [],\r\n  personal: []\r\n})\r\n\r\nexport default (state = defaultState, action) => {\r\n  if (action.type === SET_SEARCH && action.value) {\r\n    return state.set('focused', true)\r\n  };\r\n  if (action.type === SET_SEARCH && !action.value) {\r\n    return state.set('focused', false)\r\n\r\n  }\r\n  if (action.type === SET_BANNER ) {\r\n    return state.set('banner', action.value)\r\n  }\r\n  if (action.type === SET_PERSONAL ) {\r\n    return state.set('personal', action.value)\r\n  }\r\n  return state;\r\n}","import { \r\n  SET_SEARCH, \r\n  SET_BANNER,\r\n  SET_PERSONAL\r\n } from './actionType'\r\nimport * as api from '@/api'\r\nexport const searchFoucs = (flag) => ({\r\n  type: SET_SEARCH,\r\n  value: flag\r\n});\r\nexport const setBanner = (res) => ({\r\n  type: SET_BANNER,\r\n  value: res\r\n});\r\nexport const setPersonal = (res) => ({\r\n  type: SET_PERSONAL,\r\n  value: res\r\n});\r\nexport const getList = (flag) => {\r\n  // 可以return 一个函数\r\n  return (dispatch) => {\r\n    // 异步操作\r\n    let action  = searchFoucs(flag)\r\n    // dispatch过去\r\n    dispatch(action)\r\n  }\r\n}\r\nexport const getBaner = () => {\r\n  // 可以return 一个函数\r\n  return (dispatch) => {\r\n    // 异步操作\r\n    api.getSongUr({}).then(res => {\r\n      let action  = setBanner(res.banners || [])\r\n      dispatch(action)\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n    // dispatch过去\r\n    \r\n  }\r\n}\r\nexport const getPersonal = () => {\r\n  // 可以return 一个函数\r\n  return (dispatch) => {\r\n    // 异步操作\r\n    api.getPersonal({}).then(res => {\r\n      let action  = setPersonal(res.result || [])\r\n      dispatch(action)\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n    // dispatch过去\r\n    \r\n  }\r\n}","import reducer from './reducer'\r\nimport * as actionType from './actionType'\r\nimport * as actionsCreators from './actionCreators'\r\nexport {\r\n  reducer,\r\n  actionType,\r\n  actionsCreators\r\n}","import styled from 'styled-components'\r\n\r\nexport const Wrap = styled.div`\r\n  .item{\r\n    height: 40px;\r\n    width: 40px;\r\n    position: fixed;\r\n    top: 40px;\r\n    left: 0;\r\n    pointer-events: none;\r\n    z-index: 88887999;\r\n    transform: translate3d(0, 0, 0);\r\n    opacity: 0;\r\n    transition: transform 1s cubic-bezier(.65,-0.12,.86,.57);\r\n    .icon{\r\n      pointer-events: none;\r\n      transform: translate3d(0, 0, 0);\r\n      transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\r\n      .iconfont{\r\n        font-size: 20px;\r\n        pointer-events: none;\r\n        color: green;\r\n      }\r\n    }\r\n  }\r\n  \r\n`","import React, { useRef, useState, useEffect, forwardRef, useImperativeHandle} from 'react';\r\n// import { CSSTransition } from 'react-transition-group'\r\n\r\n// 样式\r\nimport { \r\n  Wrap\r\n} from './style';\r\n\r\n\r\nconst  MusicStart = forwardRef((props, ref) => {\r\n  const wrapRef = useRef([])\r\n  const iconRef = useRef([])\r\n  const arrRef = useRef([])\r\n\r\n  const [arr, setArr] = useState([])\r\n   \r\n  //获取传入的\r\n  useImperativeHandle(ref, () => ({\r\n    getPositon\r\n  }));\r\n\r\n  // 生成数组\r\n  useEffect(() => {\r\n    let i = 0\r\n    while(i < 10) {\r\n      arrRef.current.push({loading: false})\r\n      i++;\r\n    }\r\n    setArr(arrRef.current)\r\n  },[]);\r\n\r\n  // 动画 \r\n  const getPositon = (x,y, flag = true) => {\r\n    if (!flag) return\r\n\r\n    for (let index = 0; index< arrRef.current.length; index ++ ) {\r\n      console.log(index +'_'+x +'_'+ y)\r\n      console.log(arrRef.current)\r\n      if (!arrRef.current[index].loading) {\r\n        console.log(index)\r\n        arrRef.current[index].loading = true;\r\n        let i = index;\r\n        let wrap = wrapRef.current[i].current\r\n        let icon = iconRef.current[i].current\r\n        // 运动\r\n        wrap.style['opacity'] = \"1\"\r\n        wrap.style['left'] = x + 'px'\r\n        wrap.style['top'] = y + 'px'\r\n        wrap.style['display'] = \"block\"\r\n        wrap.style['transform'] = `translate3d(0, 750px, 0)`\r\n        icon.style['transform'] = `translate3d(-60px, 0, 0)`\r\n        wrap.addEventListener('transitionend', () => {\r\n          // 恢复\r\n          wrap.style['transform'] = `translate3d(0, 0, 0)`;\r\n          icon.style['transform'] = `translate3d(0, 0, 0)`;\r\n          wrap.style['left'] = x + 'px'\r\n          wrap.style['top'] = 40 + 'px'\r\n          wrap.style['opacity'] = \"0\"\r\n        }, false);\r\n        setTimeout(() => {\r\n          arrRef.current[index].loading = false\r\n        }, 2000);\r\n        break\r\n      }\r\n    }\r\n    \r\n  }\r\n  return(\r\n    <Wrap>\r\n      {\r\n        arr.map((item, index) => {\r\n          wrapRef.current[index] = React.createRef();\r\n          iconRef.current[index] = React.createRef();\r\n          return (\r\n            <div className=\"item\" ref={wrapRef.current[index]} key={index}>\r\n              <div className=\"icon\" ref={iconRef.current[index]}>\r\n                <div className=\"iconfont icon-music-note\"></div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </Wrap>\r\n  )\r\n})\r\n\r\nexport default MusicStart;","import { createGlobalStyle } from 'styled-components' ;\r\nexport const Globalstyle = createGlobalStyle`\r\n  html, body, div, span, applet, object, iframe,\r\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\n  a, abbr, acronym, address, big, cite, code,\r\n  del, dfn, em, img, ins, kbd, q, s, samp,\r\n  small, strike, strong, sub, sup, tt, var,\r\n  b, u, i, center,\r\n  dl, dt, dd, ol, ul, li,\r\n  fieldset, form, label, legend,\r\n  table, caption, tbody, tfoot, thead, tr, th, td,\r\n  article, aside, canvas, details, embed, \r\n  figure, figcaption, footer, header, hgroup, \r\n  menu, nav, output, ruby, section, summary,\r\n  time, mark, audio, video {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    font-size: 100%;\r\n    font: inherit;\r\n    vertical-align: baseline;\r\n  }\r\n  article, aside, details, figcaption, figure, \r\n  footer, header, hgroup, menu, nav, section {\r\n    display: block;\r\n  }\r\n  body {\r\n    line-height: 1;\r\n    margin: 0 auto !important;\r\n  }\r\n  ol, ul {\r\n    list-style: none;\r\n  }\r\n  blockquote, q {\r\n    quotes: none;\r\n  }\r\n  blockquote:before, blockquote:after,\r\n  q:before, q:after {\r\n    content: '';\r\n    content: none;\r\n  }\r\n  table {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n  }\r\n`","import React, { lazy, Suspense } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n// import Detail from '@/views/detail/index'\r\n// import Search from '@/views/search/index'\r\n// import SingerDetail from '@/views/singerDetail/index'\r\nconst SuspenseComponent = Component => props => {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Component {...props}></Component>\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nconst Header = lazy(() => import(\"@/views/header/index\"));\r\nconst Detail = lazy(() => import(\"@/views/detail/index\"));\r\nconst Search = lazy(() => import(\"@/views/search/index\"));\r\nconst SingerDetail = lazy(() => import(\"@/views/singerDetail/index\"));\r\n// import Header from '@/views/header/index'\r\n\r\nconst routes = [\r\n  {\r\n    path:'/detail',\r\n    component:  SuspenseComponent(Detail),\r\n    exact:true\r\n  },\r\n  {\r\n    path:'/search',\r\n    component: SuspenseComponent(Search),\r\n    exact:true\r\n  },\r\n  {\r\n    path:'/',\r\n    component: SuspenseComponent(Header),\r\n    routes: [\r\n      {\r\n        path: \"/singerDetail/:id\",\r\n        component: SuspenseComponent(SingerDetail),\r\n      }\r\n    ]\r\n  },\r\n]\r\nexport {routes}","import styled, {keyframes} from 'styled-components'\r\n\r\nconst rotate1 = keyframes`{\r\n  0%{\r\n    transform: translate3d(-260px, 500px, 0) scale(0);\r\n    opacity: 0;\r\n  }\r\n  50%{\r\n    transform: translate3d(-10px, 20px, 0) scale(1.1);\r\n    opacity: 0.9;\r\n  }\r\n  100%{\r\n    transform: translate3d(0px, 0px, 0) scale(1);\r\n    opacity: 1;\r\n  }\r\n}`\r\n\r\nconst rotate2 = keyframes`{\r\n  0%{\r\n    transform: translate3d(0px, 0px, 0) scale(1);\r\n  }\r\n  50%{\r\n    transform: translate3d(-10px, 20px, 0) scale(1.1);\r\n  }\r\n  100%{\r\n    transform: translate3d(-260px, 500px, 0) scale(0);\r\n  }\r\n}`\r\n\r\nconst rotate3 = keyframes`{\r\n  0%{\r\n    transform: rotate(0);\r\n  }\r\n  100%{\r\n    transform: rotate(360deg);\r\n  }\r\n}`\r\n\r\nexport const AudioWrap = styled.div`\r\n  audio{\r\n    display: none\r\n  }\r\n`\r\nexport const IPlayer = styled.div`\r\n\r\n  box-shadow: 0px -2px 3px #efefef;\r\n  position: absolute;\r\n  bottom: 0;\r\n  height: 100px;\r\n  width: 100%;\r\n  background:#fff;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  z-index: 88888999;\r\n  padding: 0 20px;\r\n  &.singer-mini-enter, &.singer-mini-appear {\r\n    transform: translate3d(-260px, 500px, 0) scale(0);\r\n    opacity: 0;\r\n  }\r\n  &.singer-mini-enter-active, &.singer-mini-appear-active{\r\n    animation: ${rotate1} 0.6s cubic-bezier(0.25,0.1,0.25,1) forwards;\r\n    animation-delay:0.8s;\r\n    -webkit-animation-delay:0.8s; /* Safari 和 Chrome */\r\n    \r\n  }\r\n  &.singer-mini-exit{\r\n    animation:  ${rotate2} 1s cubic-bezier(0.25,0.1,0.25,1) forwards;\r\n    opacity: 1;\r\n  }\r\n  &.singer-mini-exit-active{\r\n    \r\n  }\r\n  &.singer-mini-exit-done{\r\n    opacity: 0;\r\n  }\r\n  .pic{\r\n    height: 60px;\r\n    width: 60px;\r\n    border-radius: 50%;\r\n    &.play{\r\n      animation: ${rotate3} 6s  linear infinite ;\r\n      &.pause{\r\n        animation-play-state: paused;\r\n      }\r\n    }\r\n  }\r\n  }\r\n  .title-wrap{\r\n    margin-left: 20px;\r\n    flex:1;\r\n  }\r\n  .name{\r\n    font-size: 16px;\r\n    color: #333;\r\n    line-height: 26px;\r\n    width: 175px;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    word-break: break-all;\r\n  }\r\n  .singer{\r\n    font-size: 16px;\r\n    color: #999;\r\n  }\r\n  .ico{\r\n    font-size: 30px;\r\n  }\r\n  .anticon{\r\n    font-size: 30px;\r\n    margin-left: 10px;\r\n    color: green;\r\n  }\r\n  `;\r\nexport const Nplayer = styled.div`\r\n  height: 100vh;\r\n  background: green;\r\n  position:absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index:100000;\r\n  &.singer-enter, &.singer-appear {\r\n    animation: ${rotate1} 1s cubic-bezier(0.25,0.1,0.25,1);\r\n    animation-delay:0.5s;\r\n    -webkit-animation-delay:0.5s; /* Safari 和 Chrome */\r\n    .button{\r\n      transform: translate(0, 130px);\r\n      transition: transform 0.2s cubic-bezier(0.86, 0.18, 0.82, 1.32);;\r\n    }\r\n  }\r\n  &.singer-enter-active, &.singer-appear-active{\r\n    animation: ${rotate1} 0.6s cubic-bezier(0.25,0.1,0.25,1);\r\n    .button{\r\n      transform: translate(0, 0px);\r\n    }\r\n  }\r\n  &.singer-exit{\r\n    animation:  ${rotate2} 0.8s cubic-bezier(0.25,0.1,0.25,1) forwards;\r\n    opacity: 1;\r\n    .button{\r\n      transform: translate(0, 130px);\r\n      transition: transform 1s cubic-bezier(0.86, 0.18, 0.82, 1.32);;\r\n    }\r\n  }\r\n  &.singer-exit-active{\r\n    \r\n  }\r\n  &.singer-exit-done{\r\n    opacity: 0;\r\n    .button{\r\n      transform: translate(0, 130px);\r\n    }\r\n  }\r\n  .top{\r\n    height: 100px;\r\n    padding: 10px 40px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    .anticon{\r\n      font-size: 30px;\r\n      color: #fff;\r\n    }\r\n    .right{\r\n      margin-left: 26px;\r\n      font-size: 0.3rem;\r\n      color: #fff;\r\n    }\r\n  }\r\n  .wraper{\r\n    width: 100%;\r\n    position: absolute;\r\n    z-index: 100000;\r\n    background: #fff;\r\n    top: 100px;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    padding: 1rem 1rem 0.3rem 1rem;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .audio{\r\n    display:none;\r\n  }\r\n  .lrc-cont{\r\n    flex: 1;\r\n    height: 400px;\r\n  }\r\n  .progress{\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    color:#333;\r\n    padding-top: 10px;\r\n    .pro-bar{\r\n      width: 6rem;\r\n      margin: 0 0.5rem;\r\n    }\r\n    .cur{\r\n      width: 50px;\r\n    }\r\n    .total{\r\n      width: 50px;\r\n    }\r\n  }\r\n  .ico{\r\n    font-size: 40px;\r\n  }\r\n  .button{\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    font-size: 35px; \r\n    color:green;\r\n  }\r\n`\r\n\r\n\r\nexport const PlayListI = styled.div`\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    height: 100vh;\r\n    width: 100%;\r\n    background:rgba(0,0, 0, 0.5);\r\n    color: #fff;\r\n    z-index:100001;\r\n    .wrap{\r\n      top: 200px;\r\n      width: 100%;\r\n      position:absolute;\r\n      bottom: 0;\r\n      left: 0;\r\n      background: #fff;\r\n      padding: 20px 0;\r\n      transform: translate(0, 600px);\r\n      transition: all 0.5s;\r\n    }\r\n    .wraper-list{\r\n      height: 100%;\r\n      width: 100%;\r\n      overflow: hidden\r\n    }\r\n    \r\n    .itemL{\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      padding: 0.15rem 0.5rem;\r\n      font-size: 0.4rem;\r\n      cursor: pointer;\r\n      color: #333\r\n    }\r\n    .playcon{\r\n      width: 1rem;\r\n      color: green\r\n    }\r\n    .name2{\r\n      flex: 1;\r\n      overflow: hidden;\r\n      white-space:nowrap;\r\n      text-overflow:ellipsis \r\n    }\r\n    .icos{\r\n      width: 1rem;\r\n      padding-left: 0.2rem;\r\n      color: green\r\n    }\r\n`","export const paserLrc = (lrc) => {\r\n  if (!lrc) return {time: [], lrc: [], timer: []};\r\n  let reg =/\\[\\d{2,4}:\\d{2}\\.\\d+\\]/g\r\n  let arr1 = lrc.match(reg)\r\n  lrc = lrc.replace(reg, 'kkk')\r\n  let arr2 = lrc.split('kkk')\r\n  arr2 = arr2.slice(1)\r\n  let timer = []\r\n  arr1.map((item,index) => {\r\n    item = item.replace(/\\[/,'').replace(/\\]/,'')\r\n    let arrtime = item.split(':')\r\n    let time2 = (parseInt(arrtime[0]) * 60 + parseFloat(arrtime[1]))\r\n    timer.push(time2)\r\n    return 0\r\n  })\r\n  return {\r\n    time: arr1,\r\n    lrc: arr2,\r\n    timer\r\n  }\r\n}","import React, { useState, useEffect, useRef, useCallback} from 'react';\r\nimport Scroll from '@/common/scroll'\r\n\r\n\r\nfunction LrcScroll (props){\r\n  const {yy, currentLineNum} = props\r\n\r\n  const lyricLineRef = useRef([]);\r\n\r\n  const [lineEl, setLineEl] = useState()\r\n\r\n  const goNext = useCallback((max) => {\r\n    if ( currentLineNum < 5 ||  currentLineNum >= max) return;\r\n    let lineEl = lyricLineRef.current[currentLineNum-5].current;\r\n    setLineEl(lineEl)\r\n  }, [currentLineNum]);\r\n\r\n  useEffect(() => {\r\n    goNext(yy.length)\r\n  }, [currentLineNum, yy, goNext]);\r\n\r\n  return (\r\n    <Scroll lineEl={lineEl}>\r\n      <div>\r\n        {\r\n          yy.map((item,index) => {\r\n            lyricLineRef.current[index] = React.createRef();\r\n            return (\r\n            <div className={`content ${index === currentLineNum ? 'color': ''}`} key={index} ref={lyricLineRef.current[index]}>{item}</div>\r\n            );\r\n          })\r\n        }\r\n      </div>\r\n    </Scroll>\r\n  )\r\n}\r\n\r\nLrcScroll.defaultProps = {\r\n  yy: []\r\n}\r\nexport default React.memo(LrcScroll)","import styled from 'styled-components'\r\n\r\nexport const Wrap = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  border-radius: 10px;\r\n  overflow:hidden;\r\n  .content{\r\n    line-height: 30px;\r\n    width: 100%;\r\n    text-align: center;\r\n    font-size: 16px;\r\n    color: #666;\r\n    opacity: 0.6\r\n  }\r\n  .color{\r\n    color: green;\r\n    opacity: 1;\r\n  }\r\n`;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { actionsCreators } from '../store'\r\nimport { paserLrc } from '@/utils/lrcParse'\r\nimport LrcScroll from './scroll'\r\nimport { \r\n  Wrap\r\n} from './style';\r\n\r\nfunction LRC (props, ref){\r\n  let {lyric, current, src}  = props\r\n  let {getlrc}  = props\r\n  \r\n  \r\n  const [yy, setYy] = useState(['歌词加载中..'])\r\n  const [currentLineNum, setCurrentLineNum] = useState(-1)\r\n  const [time, setTime] = useState([''])\r\n\r\n  // 获取歌词\r\n  useEffect(() => {\r\n    if (lyric) {\r\n      let arr = paserLrc(lyric)\r\n      setTime(arr.time) \r\n      setYy(arr.lrc)\r\n    }\r\n  }, [lyric])\r\n\r\n  \r\n  // 跳转\r\n  useEffect(() => {\r\n    time.forEach((item, index) => {\r\n      item = item.replace(/\\[/,'').replace(/\\]/,'')\r\n      let arrtime = item.split(':')\r\n      let time = (parseInt(arrtime[0]) * 60 + parseFloat(arrtime[1]))\r\n      if (parseInt(current) === parseInt(time)) {\r\n        setCurrentLineNum(index)\r\n      }\r\n    })\r\n  }, [current, time])\r\n  \r\n  useEffect(() => {\r\n    if (!src) return;\r\n    let id = src.match(/\\d{5,20}/)\r\n    if (id) getlrc(id[0])\r\n  }, [src, getlrc]) \r\n  // 获取歌词\r\n  return (\r\n    <Wrap >\r\n      <LrcScroll yy={yy} currentLineNum={currentLineNum}></LrcScroll>\r\n    </Wrap>\r\n  )\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    lyric: state.getIn(['player', 'lrc']),\r\n    src: state.getIn(['player', 'src']),\r\n    current: state.getIn(['player', 'current']),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getlrc(id) {\r\n      const action = actionsCreators.getlrc(id);\r\n      dispatch(action)\r\n    }\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LRC);","import React, { useState, useEffect, useRef, useCallback} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { actionsCreators } from './store'\r\n\r\n// 图标\r\nimport {\r\n  PlayCircleFilled,\r\n  DeleteFilled,\r\n} from '@ant-design/icons';\r\n\r\nimport { \r\n  PlayListI\r\n} from './style';\r\n\r\nimport Scroll from '@/common/scroll'\r\n\r\nconst PlayerList = (props) => {\r\n  \r\n  let { playList,  player2, showListflag} = props;\r\n  let { openMusic, removeSong, goList} = props;\r\n\r\n  const [start, setStart] = useState()\r\n  const [distance, setDistance] = useState(0)\r\n  const [initialed, setInitialed] = useState(false)\r\n\r\n  const moveRef = useRef()\r\n  const canmoveRef = useRef(true)\r\n  const startRef = useRef(0)\r\n\r\n  // 放歌\r\n  const goSong =  (e, item) => {\r\n    e.stopPropagation();\r\n    openMusic(item)\r\n  }\r\n\r\n  // 清除 放歌\r\n  const  goremoveSong = useCallback((e, item, player2, playList) => {\r\n    e.stopPropagation();\r\n    console.log(2222)\r\n    removeSong(item, player2, playList)\r\n  }, [removeSong]) \r\n\r\n  // show\r\n  useEffect(() => {\r\n    moveRef.current.style['transition'] = `all 0.5s`\r\n    moveRef.current.style['transform'] = `translate(0, 0px)`\r\n  }, [showListflag])\r\n\r\n  // 滚动条\r\n  const handleScroll = (pos) => {\r\n    canmoveRef.current = (parseInt(pos.y) === 0)\r\n  }\r\n  // 滑动start\r\n  const handleTouchStart = (e) => {\r\n    if (!canmoveRef.current) return \r\n    console.log(e.nativeEvent.touches[0].pageY)\r\n    setStart(e.nativeEvent.touches[0].pageY)\r\n    startRef.current = e.nativeEvent.touches[0].pageY\r\n    setInitialed(true);\r\n  }\r\n  // 滑动move\r\n  const handleTouchMove = (e) => {\r\n    if (!canmoveRef.current || !initialed) return \r\n    let distance2 = e.nativeEvent.touches[0].pageY - start\r\n    setDistance(distance2);\r\n    console.log(distance2);\r\n    if (distance2 < 0) return\r\n    moveRef.current.style['transition'] = `all 0s`\r\n    moveRef.current.style['transform'] = `translate(0, ${distance}px)`\r\n  }\r\n  // 滑动End\r\n  const handleTouchEnd = (e) => {\r\n    setInitialed(false);\r\n    moveRef.current.style['transition'] = `all 0.5s`\r\n    if (distance > 200) {\r\n      moveRef.current.style['transform'] = `translate(0, 600px)`\r\n      goList(false)\r\n    }\r\n    if (distance <= 200) moveRef.current.style['transform'] = `translate(0, 0)`\r\n  }\r\n\r\n\r\n  return (\r\n    <PlayListI onClick={() => { goList(false) }}>\r\n      <div className=\"wrap\" \r\n        onClick={(e) => {e.stopPropagation()}}\r\n        onTouchStart={handleTouchStart}\r\n        onTouchMove={handleTouchMove}\r\n        onTouchEnd={handleTouchEnd}\r\n        ref={moveRef}\r\n      >\r\n        <Scroll bounceTop={false} handleScroll={handleScroll}>\r\n          <div>\r\n              {\r\n                playList.map(((item, index) => {\r\n                  return (\r\n                    <div className=\"itemL\" key={item.id} onClick={(e) => {goSong(e, item)}}>\r\n                      <div className=\"playcon\">\r\n                        {player2.id === item.id ? <PlayCircleFilled /> : null}\r\n                      </div>\r\n                      <div className=\"name2\">{item.title}</div>\r\n                      <div className=\"icos\">\r\n                        <DeleteFilled onClick={(e) => {goremoveSong(e, item, player2, playList)}}/>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                }))\r\n              }\r\n            </div>\r\n        </Scroll>\r\n      </div>\r\n    </PlayListI>\r\n  )\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    player2: state.getIn(['player', 'playerinfo']),\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    openMusic(item) {\r\n      const action = actionsCreators.getSrc(item.id)\r\n      const action2 = actionsCreators.setCurrentPlayer(item)\r\n      dispatch(action)\r\n      dispatch(action2)\r\n    },\r\n    removeSong(item, player2, list) {\r\n      console.log('remove')\r\n      const action2 = actionsCreators.removeSong(item)\r\n      dispatch(action2)\r\n      if ((item.id === player2.id) && list.length >= 2) {\r\n        const action = actionsCreators.goNext(item.id, list, true)\r\n        dispatch(action)\r\n      }\r\n      \r\n    },\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerList);","import React, { useState, useEffect, memo, useRef} from 'react';\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport { connect } from 'react-redux'\r\nimport { actionsCreators } from './store'\r\nimport MusicStart from '@/common/musicStart'\r\n\r\nimport { Slider } from 'antd';\r\n// 图标\r\nimport {\r\n  PlayCircleFilled,\r\n  PauseCircleFilled,\r\n  AlignRightOutlined,\r\n  DownOutlined,\r\n  VerticalLeftOutlined,\r\n  VerticalRightOutlined,\r\n  SyncOutlined,\r\n  LoginOutlined,\r\n  ShrinkOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { \r\n  AudioWrap,\r\n  IPlayer,\r\n  Nplayer,\r\n} from './style';\r\n\r\nimport Lrc from './lrc'\r\nimport PlyerList from './list'\r\n\r\nconst Player = memo((props) => {\r\n  let { play, volume, src, player2, playList, showMini , circle, xy} = props;\r\n  let { setplay, setCurrenttimestate, toggleMini, goNext, toggleCircle, openPlayer} = props;\r\n\r\n  const [duration, setDuration] = useState(0)\r\n  const [currentTime, setCurrentTime] = useState(0)\r\n  const [showListflag, setShowListflag] = useState(false)\r\n\r\n  const audioRef = useRef();\r\n  const playerRef = useRef();\r\n  const musicRef = useRef();\r\n\r\n  // 切换歌曲\r\n  useEffect(() => {\r\n    if (src) {\r\n      audioRef.current.src = src;\r\n      audioRef.current.autoplay = true;\r\n      audioRef.current.loop = true \r\n      if (!play) setplay()\r\n      // if (showMini && musicRef.current) musicRef.current.getPositon(xy.x, xy.y, showMini)\r\n    }\r\n  }, [src, setplay]);\r\n\r\n  // 动画\r\n  useEffect(() => {\r\n    console.log('star-----' + showMini)\r\n    if (xy.x && xy.y && showMini && musicRef.current) musicRef.current.getPositon(xy.x, xy.y, showMini)\r\n  }, [xy]);\r\n\r\n  // 播放暂停切换\r\n  useEffect(() => {\r\n    if (audioRef.current) {\r\n      if (play) audioRef.current.play();\r\n      if (!play) audioRef.current.pause();\r\n      openPlayer()\r\n    }\r\n    playerRef.current = true\r\n  }, [play, openPlayer]);\r\n\r\n  // 声音\r\n  useEffect(() => {\r\n    if (audioRef.current) audioRef.current.volume = volume / 100\r\n  }, [volume]);\r\n  let icon = (\r\n    play ? <div className=\"ico\" onClick={setplay}><PauseCircleFilled /></div> \r\n      : <div  className=\"ico\" onClick={setplay}><PlayCircleFilled /></div>\r\n  )\r\n\r\n  // 时间播放新位置\r\n  let updateTime = () => {\r\n    setDuration(audioRef.current.duration)\r\n    setCurrentTime(parseInt(audioRef.current.currentTime))\r\n    setCurrenttimestate(audioRef.current.currentTime)\r\n    // 播放下一曲\r\n    if ((audioRef.current.duration - audioRef.current.currentTime <= 1) && !circle) goNext(player2.id, playList, true) \r\n  }\r\n\r\n  let setDurationsit = (value) => {\r\n    audioRef.current.currentTime = value / 100 * duration\r\n  }\r\n\r\n  // 获取时分\r\n  const getSecondMin = (sec) => {\r\n    let min = parseInt(sec) / 60 > 0 ? parseInt(parseInt(sec) / 60) : '0'\r\n    let sec2= parseInt(parseInt(sec) % 60)\r\n    return `${min >= 10 ? min : '0' + min}: ${sec2 >= 10 ? sec2 : '0' + sec2}`\r\n  }\r\n\r\n  // 显示列表\r\n  const goList = (flag) => {\r\n    setShowListflag(flag);\r\n  }\r\n\r\n  // 播放列表\r\n  let list = (\r\n    <PlyerList playList={playList} goList={goList} showListflag={showListflag}></PlyerList>\r\n  )\r\n  // mini palyer\r\n  let mini = (\r\n    <CSSTransition\r\n      classNames=\"singer-mini\"\r\n      in={showMini}\r\n      timeout={2000}\r\n      appear={true}\r\n      unmountOnExit\r\n    >\r\n      <IPlayer>\r\n        {player2.pic ? <img src={ player2.pic + '?param=100x100' } className={`pic play ${play? '': 'pause'}`} alt=\"\" onClick={toggleMini} /> : null }\r\n        <div className=\"title-wrap\" onClick={toggleMini}>\r\n          <div className=\"name\">{player2.title}</div>\r\n          <div className=\"singer\">{player2.singer}</div>\r\n        </div>\r\n        {icon}\r\n        <AlignRightOutlined onClick={(e) => {goList(true)}}/>\r\n      </IPlayer>\r\n    </CSSTransition>\r\n  )\r\n\r\n  //  大号音乐播放\r\n  let normal = (\r\n    <CSSTransition\r\n      classNames=\"singer\"\r\n      in={!showMini}\r\n      timeout={2000}\r\n      appear={true}\r\n      unmountOnExit\r\n    >\r\n    <Nplayer >\r\n      <div className=\"top\">\r\n        <DownOutlined onClick={toggleMini}/>\r\n        <div className=\"right\">\r\n          <div className=\"title\">{player2.title}</div>\r\n          <div className=\"singer\">{player2.singer}</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"wraper\">\r\n        <div className=\"lrc-cont\"><Lrc></Lrc></div>\r\n        <div className=\"progress\">\r\n          <div className=\"cur\">{getSecondMin(currentTime)}</div>\r\n          <div className=\"pro-bar\"><Slider  value={currentTime / duration * 100} onChange={(value)=> {setDurationsit(value)}}/> </div>\r\n          <div className=\"total\">{getSecondMin(duration)}</div>\r\n        </div>\r\n        <div className=\"button\">\r\n          <ShrinkOutlined  onClick={toggleMini} />\r\n          {\r\n            circle ? <LoginOutlined onClick={toggleCircle}/> : <SyncOutlined onClick={toggleCircle}/>\r\n          }\r\n          <VerticalRightOutlined onClick={() => goNext(player2.id, playList, false) } />\r\n          {icon}\r\n          <VerticalLeftOutlined onClick={() => goNext(player2.id, playList, true) } />\r\n          <AlignRightOutlined onClick={(e) => {goList(true)}}/>\r\n        </div>\r\n      </div>\r\n      \r\n    </Nplayer>\r\n    </CSSTransition>\r\n  )\r\n\r\n  // 播放器主体\r\n  return (\r\n    <div>\r\n      {\r\n        playerRef.current ? \r\n          <AudioWrap>\r\n            <audio \r\n              className=\"audio\"\r\n              controls=\"controls\"\r\n              onTimeUpdate={updateTime}\r\n              ref={audioRef}\r\n            ></audio>\r\n            \r\n            {normal}\r\n            {mini}\r\n            {showListflag ? list : null}\r\n          </AudioWrap>\r\n        : null\r\n      }\r\n      {/* 动画 */}\r\n      <MusicStart ref={musicRef}></MusicStart>\r\n    </div>\r\n  )\r\n});\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    play: state.getIn(['player', 'play']),\r\n    xy: state.getIn(['player', 'xy']),\r\n    volume: state.getIn(['player', 'volume']),\r\n    src: state.getIn(['player', 'src']),\r\n    current: state.getIn(['player', 'current']),\r\n    player2: state.getIn(['player', 'playerinfo']),\r\n    playList: state.getIn(['player', 'playList']),\r\n    showMini: state.getIn(['player', 'showMini']),\r\n    circle: state.getIn(['player', 'circle']),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    openPlayer() {\r\n      const action = actionsCreators.openPlayer()\r\n      dispatch(action)\r\n    },\r\n    setplay(flag) {\r\n      const action = actionsCreators.setPlay(flag)\r\n      dispatch(action)\r\n    },\r\n    setVolume(num) {\r\n      const action = actionsCreators.setVolume(num)\r\n      dispatch(action)\r\n    },\r\n    setCurrenttimestate(time) {\r\n      const action = actionsCreators.setCurrenttime(time)\r\n      dispatch(action)\r\n    },\r\n    openMusic(item) {\r\n      const action = actionsCreators.getSrc(item.id)\r\n      const action2 = actionsCreators.setCurrentPlayer(item)\r\n      dispatch(action)\r\n      dispatch(action2)\r\n    },\r\n    toggleMini() {\r\n      const action = actionsCreators.toggleMini()\r\n      dispatch(action)\r\n    },\r\n    goNext(id, list, flag) {\r\n      const action = actionsCreators.goNext(id, list, flag)\r\n      dispatch(action)\r\n    },\r\n    toggleCircle() {\r\n      const action = actionsCreators.toggleCircle()\r\n      dispatch(action)\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Player);","import React from 'react';\nimport { HashRouter} from \"react-router-dom\";\nimport { renderRoutes } from \"react-router-config\";\nimport {routes} from './router/index'\nimport Player from '@/views/player'\n\nimport { connect } from 'react-redux'\nimport { Spin } from 'antd';\nimport './index.css'\nfunction App(props) {\n  \n  const {loading} = props;\n\n  return (\n    <div className=\"App\">\n      { loading? <Spin className=\"loading-icon\" size=\"large\"></Spin>: null }\n      <div className=\"app-wrap\">  \n        <HashRouter>\n          {renderRoutes(routes)}\n        </HashRouter>\n      </div>\n      <div className=\"player-wrap-all\">\n        <Player></Player>\n      </div>\n    </div>\n  );\n}\nconst mapStateToProps = (state) => {\n  return {\n    loading: state.getIn(['player', 'loading']),\n  };\n};\n\nexport default connect(mapStateToProps, null)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Globalstyle} from './style.js';\nimport '@/statics/icon-font/iconfont.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from '@/store';\nimport { Provider } from 'react-redux';\nimport \"lib-flexible\"\nimport 'antd/dist/antd.css';\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n    <Globalstyle /> \n  </Provider>,\ndocument.getElementById('root'));\n// document.getElementsByTagName('html')[0].style.fontSize = (document.documentElement.clientWidth || document.body.clientWidth) /10 + 'px';\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import Axios from \"axios\" \r\nimport store from '@/store';\r\nimport { actionsCreators as actionsCreatorsPlayer } from '@/views/player/store'\r\nconst BasicUrl = '/music-api'\r\nexport const fetch = (options) => {\r\n  let opts = Object.assign({\r\n    method: 'POST',\r\n  }, options)\r\n  opts.url = BasicUrl + opts.url\r\n  store.dispatch(actionsCreatorsPlayer.setLoading(true))\r\n  return new Promise((resolve, reject) => {\r\n    Axios(opts).then(res => {\r\n      store.dispatch(actionsCreatorsPlayer.setLoading(false))\r\n      if (res.data.code === 200) {\r\n        resolve(res.data);\r\n      } else {\r\n        reject(res.data);\r\n      }\r\n    }).catch(err => {\r\n      store.dispatch(actionsCreatorsPlayer.setLoading(false))\r\n      reject(err);\r\n    });\r\n  })\r\n}","import { fetch } from '@/utils/fetch'\r\nexport const getSongUr = (params) => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/banner'\r\n  })\r\n}\r\n\r\nexport const getPersonal = (params) => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/personalized'\r\n  })\r\n}\r\n// 获取详情\r\nexport const getPlaylistDetail = (params) => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/playlist/detail',\r\n    params\r\n  })\r\n}\r\n// 歌曲链接\r\nexport const getSongUrlSrc = id => {\r\n  return `https://music.163.com/song/media/outer/url?id=${id}.mp3`;\r\n};\r\n// 歌词链接\r\nexport const getSongLrc = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/lyric',\r\n    params\r\n  })\r\n};\r\n// 搜索建议\r\nexport const getSuggest = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/search/suggest',\r\n    params\r\n  })\r\n};\r\n// 搜索建议\r\nexport const getSearch = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/search',\r\n    params\r\n  })\r\n};\r\n// 获取歌手\r\nexport const getArtists = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/top/artists',\r\n    params\r\n  })\r\n};\r\n// 获取歌手 搜索条件\r\nexport const getArtistsList = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/artist/list',\r\n    params\r\n  })\r\n};\r\n// 获取歌手 详情\r\nexport const getArtistsListDetail = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/artists',\r\n    params\r\n  })\r\n};\r\n// 排行榜\r\nexport const getTopList = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/toplist/detail',\r\n    params\r\n  })\r\n};\r\n\r\n//获取歌曲详情 \r\nexport const getSongsDetail = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/song/detail',\r\n    params\r\n  })\r\n};","import { reducer as recomendReducer } from '@/views/recomend/store'\r\nimport { reducer as PlayerReducer } from '@/views/player/store'\r\n// 将最外层的state转化成immutable对象\r\nimport { combineReducers } from 'redux-immutable'\r\n\r\nexport default combineReducers({\r\n  recomend: recomendReducer,\r\n  player: PlayerReducer,\r\n})","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport reducer from './reducer';\r\nimport thunk from 'redux-thunk';\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducer, /* preloadedState, */ \r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\nexport default store;","import styled from 'styled-components'\r\n\r\nexport const ScrollCont = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden\r\n`","import React, { useRef, useEffect} from 'react';\r\n// import { CSSTransition } from 'react-transition-group'\r\n\r\nimport BScroll from 'better-scroll'\r\n\r\n// 样式\r\nimport { \r\n  ScrollCont\r\n} from './style';\r\n\r\n\r\nfunction Scroll (props){\r\n  const {bounceTop, bounceBottom, lineEl} = props\r\n  const {handleScroll} = props\r\n  const wrapRef = useRef();\r\n  const usescollRef = useRef();\r\n\r\n  // 滚动元素\r\n  useEffect(() => {\r\n    if (lineEl) usescollRef.current.scrollToElement(lineEl, 1000);\r\n  }, [lineEl])\r\n\r\n  // 滚动\r\n  useEffect(() => {\r\n    if (!wrapRef.current) return\r\n    usescollRef.current = new BScroll(wrapRef.current, {\r\n      scrollY: true,\r\n      click: true,\r\n      mouseWheel: true,\r\n      probeType: 3,\r\n      bounce:{\r\n        top: bounceTop,\r\n        bottom: bounceBottom\r\n      }\r\n    }); \r\n    usescollRef.current.on('scroll', (pos) => {\r\n      handleScroll(pos)\r\n    });\r\n  }, [bounceTop, bounceBottom, handleScroll]);\r\n\r\n  return (\r\n    <ScrollCont ref={wrapRef}>\r\n      {props.children}\r\n    </ScrollCont>\r\n  )\r\n}\r\n\r\nScroll.defaultProps = {\r\n  bounceTop: true,\r\n  bounceBottom: true,\r\n  handleScroll: (pos) => {},\r\n  lineEl: null\r\n}\r\n\r\nexport default Scroll;","export const SET_PLAY = 'player/play'\r\nexport const SET_VOLUME = 'player/volume'\r\nexport const SET_SRC = 'player/src'\r\nexport const SET_LRC = 'player/lrc'\r\nexport const SET_CURRENT = 'player/time'\r\nexport const SET_PLAYER = 'player/playerinfo'\r\nexport const SET_LIST = 'player/list'\r\nexport const TOGGlE_MINI = 'player/toggleMini'\r\nexport const SET_NEXT = 'player/goNext'\r\nexport const SET_REMOVE = 'player/goRemove'\r\nexport const TOGGLE_CIRCLE = 'player/toggleCircle'\r\nexport const PUSH_LIST = 'player/pushSong'\r\nexport const OPEN_PLAYER = 'player/openPlayer'\r\nexport const SET_LOADING = 'player/loading'\r\nexport const SET_XY = 'player/xy'","import { SET_PLAY,SET_LOADING, SET_SRC, SET_VOLUME, SET_LRC, SET_CURRENT, SET_PLAYER, SET_LIST, SET_XY, TOGGlE_MINI, SET_REMOVE, TOGGLE_CIRCLE, PUSH_LIST, OPEN_PLAYER } from './actionType'\r\n// immutable 库\r\nimport { fromJS} from 'immutable'\r\nconst defaultState = fromJS({\r\n  play: false,\r\n  volume: 100, \r\n  src: '',\r\n  lrc: '',\r\n  current: 0,\r\n  playerinfo: {},\r\n  xy: {},\r\n  playList: [],\r\n  showMini: false,\r\n  openPlayer: false,\r\n  circle: false,\r\n  loading: false\r\n})\r\nexport default (state = defaultState, action) => {\r\n  if (action.type === SET_PLAY ) {\r\n    return state.set('play', !state.get('play'))\r\n  };\r\n  if (action.type === SET_LOADING ) {\r\n    return state.set('loading', action.value)\r\n  };\r\n  if (action.type === SET_VOLUME) {\r\n    return state.set('volume', action.value)\r\n  }\r\n  if (action.type === SET_SRC) {\r\n    return state.set('src', action.value)\r\n  }\r\n  if (action.type === SET_XY) {\r\n    return state.set('xy', action.value)\r\n  }\r\n  if (action.type === SET_LRC) {\r\n    return state.set('lrc', action.value)\r\n  }\r\n  if (action.type === SET_CURRENT) {\r\n    return state.set('current', action.value)\r\n  }\r\n  if (action.type === SET_PLAYER) {\r\n    return state.set('playerinfo', action.value)\r\n  }\r\n  if (action.type === TOGGlE_MINI) {\r\n    return state.set('showMini', !state.get('showMini'))\r\n  }\r\n  if (action.type === SET_LIST) {\r\n    return state.set('playList', action.value)\r\n  }\r\n  if (action.type === PUSH_LIST) {\r\n    const list = state.get('playList')\r\n    let arr = []\r\n    list.forEach((item, index) => {\r\n      if (action.value.id !== item.id) {\r\n        arr.push(item)\r\n      }\r\n    })\r\n    arr.unshift(action.value)\r\n    return state.set('playList', arr)\r\n  }\r\n  if (action.type === TOGGLE_CIRCLE) {\r\n    return state.set('circle', !state.get('circle'))\r\n  }\r\n  if (action.type === OPEN_PLAYER) {\r\n    return state.set('openPlayer', true)\r\n  }\r\n  if (action.type === SET_REMOVE) {\r\n    const list = state.get('playList')\r\n    let arr2 = []\r\n    list.forEach(item => {\r\n      if (action.value.id !== item.id) {\r\n        arr2.push(item)\r\n      }\r\n    })\r\n    console.log(arr2)\r\n    return state.set('playList', arr2)\r\n  }\r\n  return state;\r\n}","import { \r\n  SET_PLAY, \r\n  SET_VOLUME,\r\n  SET_SRC,\r\n  SET_LRC,\r\n  SET_CURRENT,\r\n  SET_PLAYER,\r\n  SET_LIST,\r\n  TOGGlE_MINI,\r\n  SET_REMOVE,\r\n  TOGGLE_CIRCLE,\r\n  PUSH_LIST,\r\n  OPEN_PLAYER,\r\n  SET_LOADING,\r\n  SET_XY\r\n} from './actionType'\r\n\r\nimport * as api from '@/api'\r\nexport const setPlay = () => ({\r\n  type: SET_PLAY\r\n});\r\nexport const setVolume = (num) => ({\r\n  type: SET_VOLUME,\r\n  value: num\r\n});\r\nexport const setLoading = (value) => ({\r\n  type: SET_LOADING,\r\n  value\r\n});\r\nexport const setSrc = (src) => ({\r\n  type: SET_SRC,\r\n  value: src\r\n});\r\nexport const setXY = (xy) => ({\r\n  type: SET_XY,\r\n  value: xy\r\n});\r\nexport const setlrc = (src) => ({\r\n  type: SET_LRC,\r\n  value: src\r\n});\r\nexport const setCurrenttime = (time) => ({\r\n  type: SET_CURRENT,\r\n  value: time\r\n});\r\nexport const setCurrentPlayer = (player) => ({\r\n  type: SET_PLAYER,\r\n  value: player\r\n});\r\n// 设置 播放列表\r\nexport const setPlaylist = (list) => ({\r\n  type: SET_LIST,\r\n  value: list\r\n});\r\n// 添加 播放列表\r\nexport const pushPlaylist = (song) => ({\r\n  type: PUSH_LIST,\r\n  value: song\r\n});\r\n// 切换 大小播放器\r\nexport const toggleMini = () => ({\r\n  type: TOGGlE_MINI\r\n});\r\n//移除歌曲\r\nexport const removeSong = (item) => ({\r\n  type: SET_REMOVE,\r\n  value: item\r\n});\r\n// 打开音乐播放器\r\nexport const openPlayer = () => ({\r\n  type: OPEN_PLAYER\r\n});\r\n//移除歌曲\r\nexport const toggleCircle = (item) => ({\r\n  type: TOGGLE_CIRCLE,\r\n});\r\n// 上下一曲\r\nexport const goNext = (id, list, flag) => {\r\n  let player = {}\r\n  let index1 = 0\r\n  let list1 = JSON.parse(JSON.stringify(list))\r\n  list1.forEach((item, index) => {\r\n    if (item.id ===  id) {\r\n      if (flag) index1 = index + 1\r\n      if (!flag) index1 = index - 1\r\n    }\r\n  })\r\n  if (index1 === list.length) index1 = 0\r\n  if (index1 === -1) index1 = list.length - 1\r\n  \r\n  player = list1.splice(index1, 1)\r\n  return (dispatch) => {\r\n    dispatch(getSrc(player[0].id))\r\n    dispatch(setCurrentPlayer(player[0]))\r\n  }\r\n};\r\n// 获取歌曲src\r\nexport const getSrc = (id) => {\r\n  return (dispatch) => {\r\n    // 异步操作\r\n    let src = api.getSongUrlSrc(id)\r\n    // dispatch过去\r\n    let action  = setSrc(src)\r\n    dispatch(action)\r\n  };\r\n};\r\nexport const getlrc = (id) => {\r\n  return (dispatch) => {\r\n    // 异步操作\r\n    api.getSongLrc({id}).then(res => {\r\n      let action = setlrc(res.lrc.lyric)\r\n      dispatch(action)\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n\r\n  }\r\n}","import reducer from './reducer'\r\nimport * as actionType from './actionType'\r\nimport * as actionsCreators from './actionCreators'\r\nexport {\r\n  reducer,\r\n  actionType,\r\n  actionsCreators\r\n}"],"sourceRoot":""}