{"version":3,"sources":["api/cofig.js","views/search/style.js","views/search/index.js"],"names":["categoryTypes","name","key","more","type","area","alphaTypes","searchKey","SearchWraper","styled","div","SearList","connect","state","dispatch","openMusic","e","item","info","title","singer","artists","alname","album","pic","artist","img1v1Url","id","console","log","action","actionsCreatorsPlayer","getSrc","action2","setCurrentPlayer","action3","pushPlaylist","action4","setXY","x","nativeEvent","clientX","y","clientY","props","useState","keyword","setKeyword","songs","setSongs","getSeachList","useCallback","getSearch","keywords","then","res","result","changeWord","val","target","value","useEffect","className","ArrowLeftOutlined","onClick","window","history","back","placeholder","onChange","CloseOutlined","map","index"],"mappings":"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","file":"static/js/8.28a32721.chunk.js","sourcesContent":["\r\n//歌手种类\r\nexport const categoryTypes = [\r\n  {\r\n    name: \"华语男\",\r\n    key: \"1001\",\r\n    more: {\r\n      type: 1,\r\n      area: 7\r\n    }\r\n  },\r\n  {\r\n    name: \"华语女\",\r\n    key: \"1002\",\r\n    more: {\r\n      type: 2,\r\n      area: 7\r\n    }\r\n  },\r\n  {\r\n    name: \"华语组合\",\r\n    key: \"1003\",\r\n    more: {\r\n      type: 3,\r\n      area: 7\r\n    }\r\n  },\r\n  {\r\n    name: \"欧美男\",\r\n    key: \"2001\",\r\n    more: {\r\n      type: 1,\r\n      area: 96\r\n    }\r\n  },\r\n  {\r\n    name: \"欧美女\",\r\n    key: \"2002\",\r\n    more: {\r\n      type: 2,\r\n      area: 96\r\n    }\r\n  },\r\n  {\r\n    name: \"欧美组合\",\r\n    key: \"2003\",\r\n    more: {\r\n      type: 3,\r\n      area: 96\r\n    }\r\n  },\r\n  {\r\n    name: \"日本男\",\r\n    key: \"6001\",\r\n    more: {\r\n      type: 1,\r\n      area: 8\r\n    }\r\n  },\r\n  {\r\n    name: \"日本女\",\r\n    key: \"6002\",\r\n    more: {\r\n      type: 2,\r\n      area: 8\r\n    }\r\n  },\r\n  {\r\n    name: \"日本组合\",\r\n    key: \"6003\",\r\n    more: {\r\n      type: 3,\r\n      area: 8\r\n    }\r\n  },\r\n  {\r\n    name: \"韩国男\",\r\n    key: \"7001\",\r\n    more: {\r\n      type: 1,\r\n      area: 16\r\n    }\r\n  },\r\n  {\r\n    name: \"韩国女\",\r\n    key: \"7002\",\r\n    more: {\r\n      type: 2,\r\n      area: 16\r\n    }\r\n  },\r\n  {\r\n    name: \"韩国组合\",\r\n    key: \"7003\",\r\n    more: {\r\n      type: 3,\r\n      area: 16\r\n    }\r\n  },\r\n  {\r\n    name: \"其他男歌手\",\r\n    key: \"4001\",\r\n    more: {\r\n      type: 1,\r\n      area: 0\r\n    }\r\n  },\r\n  {\r\n    name: \"其他女歌手\",\r\n    key: \"4002\",\r\n    more: {\r\n      type: 2,\r\n      area: 0\r\n    }\r\n  },\r\n  {\r\n    name: \"其他组合\",\r\n    key: \"4003\",\r\n    more: {\r\n      type: 3,\r\n      area: 0\r\n    }\r\n  }\r\n];\r\n//歌手首字母\r\nexport const alphaTypes = [\r\n  {\r\n    key: \"A\",\r\n    name: \"A\"\r\n  },\r\n  {\r\n    key: \"B\",\r\n    name: \"B\"\r\n  },\r\n  {\r\n    key: \"C\",\r\n    name: \"C\"\r\n  },\r\n  {\r\n    key: \"D\",\r\n    name: \"D\"\r\n  },\r\n  {\r\n    key: \"E\",\r\n    name: \"E\"\r\n  },\r\n  {\r\n    key: \"F\",\r\n    name: \"F\"\r\n  },\r\n  {\r\n    key: \"G\",\r\n    name: \"G\"\r\n  },\r\n  {\r\n    key: \"H\",\r\n    name: \"H\"\r\n  },\r\n  {\r\n    key: \"I\",\r\n    name: \"I\"\r\n  },\r\n  {\r\n    key: \"J\",\r\n    name: \"J\"\r\n  },\r\n  {\r\n    key: \"K\",\r\n    name: \"K\"\r\n  },\r\n  {\r\n    key: \"L\",\r\n    name: \"L\"\r\n  },\r\n  {\r\n    key: \"M\",\r\n    name: \"M\"\r\n  },\r\n  {\r\n    key: \"N\",\r\n    name: \"N\"\r\n  },\r\n  {\r\n    key: \"O\",\r\n    name: \"O\"\r\n  },\r\n  {\r\n    key: \"P\",\r\n    name: \"P\"\r\n  },\r\n  {\r\n    key: \"Q\",\r\n    name: \"Q\"\r\n  },\r\n  {\r\n    key: \"R\",\r\n    name: \"R\"\r\n  },\r\n  {\r\n    key: \"S\",\r\n    name: \"S\"\r\n  },\r\n  {\r\n    key: \"T\",\r\n    name: \"T\"\r\n  },\r\n  {\r\n    key: \"U\",\r\n    name: \"U\"\r\n  },\r\n  {\r\n    key: \"V\",\r\n    name: \"V\"\r\n  },\r\n  {\r\n    key: \"W\",\r\n    name: \"W\"\r\n  },\r\n  {\r\n    key: \"X\",\r\n    name: \"X\"\r\n  },\r\n  {\r\n    key: \"Y\",\r\n    name: \"Y\"\r\n  },\r\n  {\r\n    key: \"Z\",\r\n    name: \"Z\"\r\n  }\r\n];\r\n// 推荐搜索\r\nexport const searchKey = ['薛之谦', '周杰伦', '林俊杰', '夜夜夜', '烟火','我的一个道姑']\r\n","import styled from 'styled-components'\r\n\r\nexport const SearchWraper = styled.div`\r\n  height: 100vh;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  .serch{\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background: green;\r\n    padding: 16px 20px;\r\n    .input-it{\r\n      background: none;\r\n      border: none;\r\n      border-bottom: 1px solid #fff;\r\n      margin: 0 15px;\r\n      font-size: 0.3rem;\r\n      color: #fff;\r\n      outline: none;\r\n    }\r\n    .anticon{\r\n      font-size: 0.6rem;\r\n      color: #fff;\r\n\r\n    }\r\n  }\r\n  .suggest{\r\n    position: absolute;\r\n    top: 60px;\r\n    width: 100%;\r\n    padding: 20px;\r\n    .title{\r\n      font-size: 16px;\r\n      color: #999;\r\n    }\r\n    .list{\r\n      display: flex;\r\n      flex-direction: row;\r\n      flex-wrap: wrap;\r\n      padding-top: 10px;\r\n      .item{\r\n        padding: 3px 8px;\r\n        margin-top: 10px;\r\n        background: #eee;\r\n        border-radius: 2px;\r\n        color: #111;\r\n        margin-right: 10px;\r\n        height: 16px;\r\n        line-height: 16px;\r\n        font-size: 12px;\r\n        box-sizing: content-box;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SearList = styled.div`\r\n  padding-top: 9px;\r\n  box-sizing: border-box;\r\n  height: 80vh;\r\n  flex: 1;\r\n  padding: 10px 0px 20px 30px;\r\n  .list-item{\r\n    height: 60px;\r\n    margin: 2px 0;\r\n    cursor: pointer;\r\n    .title{\r\n      font-size: 15px;\r\n      width: 375px;\r\n      color: #111;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      word-break: break-all;\r\n      line-height: 30px;\r\n    }\r\n  }\r\n`;\r\n","import React , {useState, useCallback} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { Input } from 'antd';\r\nimport { actionsCreators as actionsCreatorsPlayer } from '@/views/player/store'\r\nimport Scroll from '@/common/scroll'\r\n\r\n// 样式\r\nimport { \r\n  SearchWraper,\r\n  SearList\r\n} from './style';\r\n\r\n// 图标\r\nimport {\r\n  ArrowLeftOutlined,\r\n  CloseOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { getSearch } from '@/api'\r\nimport {searchKey} from '@/api/cofig'\r\nimport { useEffect } from 'react';\r\n\r\nfunction Header (props){\r\n  const {openMusic}  = props\r\n  const [keyword, setKeyword] = useState('')\r\n  const [songs, setSongs] = useState([])\r\n\r\n  const getSeachList = useCallback(() => {\r\n    // 搜索结果\r\n    getSearch({\r\n      keywords: keyword\r\n    }).then(res => {\r\n      setSongs(res.result.songs || [])\r\n    })\r\n  }, [keyword])\r\n  const changeWord = useCallback((e) => {\r\n    const val = e.target.value;\r\n    setKeyword(val)\r\n  },[])\r\n\r\n  const closeKey = (e) => {\r\n    setKeyword('')\r\n    setSongs([]) \r\n  }\r\n\r\n  // 搜索\r\n  const hotSearch = (key) => {\r\n    setKeyword(key)\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!keyword) return setSongs([]) \r\n    getSeachList()\r\n  }, [keyword, getSeachList])\r\n\r\n  return (\r\n    <SearchWraper>\r\n      <div className=\"serch\">\r\n        <ArrowLeftOutlined onClick={() => window.history.back()}/>\r\n        <Input className=\"input-it\" placeholder=\"输入搜索内容\" value={keyword}  onChange={changeWord}/>\r\n        <CloseOutlined onClick={closeKey}/>\r\n      </div>\r\n      {\r\n        !keyword ? \r\n          <div className=\"suggest\">\r\n            <div className=\"title\">推荐搜索</div>\r\n            <div className=\"list\">\r\n              {\r\n                searchKey.map((item, index) => {\r\n                  return (\r\n                    <div className=\"item\" key={index} onClick={() => {hotSearch(item)}} >{item}</div>\r\n                  )\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        : null\r\n      }\r\n      <SearList>\r\n        <Scroll>\r\n          <div>\r\n          {\r\n            songs.map((item, index) => {\r\n              return (\r\n                <div key={index} className=\"list-item\" onClick={(e)=> {openMusic(e, item)}}>\r\n                  <div className=\"title\">{item.name}</div>\r\n                  <div>{item.artists && item.artists[0].name} - {item.album && item.album.name}</div>\r\n                </div>\r\n                \r\n              )\r\n            })\r\n          }\r\n          </div>\r\n        </Scroll>\r\n        \r\n      </SearList>\r\n    </SearchWraper>\r\n    \r\n  ); \r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    \r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    openMusic(e, item) {\r\n      let info = {\r\n        title: item.name,\r\n        singer: item.artists && item.artists[0].name,\r\n        alname: item.album && item.album.name,\r\n        pic: item.album && item.album.artist.img1v1Url,\r\n        id: item.id\r\n      }\r\n      console.log(info)\r\n      const action = actionsCreatorsPlayer.getSrc(item.id)\r\n      const action2 = actionsCreatorsPlayer.setCurrentPlayer(info)\r\n      const action3 = actionsCreatorsPlayer.pushPlaylist(info)\r\n      const action4 = actionsCreatorsPlayer.setXY({x: e.nativeEvent.clientX, y: e.nativeEvent.clientY})\r\n      dispatch(action)\r\n      dispatch(action2)\r\n      dispatch(action3)\r\n      dispatch(action4)\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);"],"sourceRoot":""}