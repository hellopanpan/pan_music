(this["webpackJsonppanpan-music"]=this["webpackJsonppanpan-music"]||[]).push([[7],{257:function(e,n,t){"use strict";var a=t(0),r=t.n(a),i=t(10);function l(){var e=Object(i.a)(["\n  height: 46px;\n  line-height: 46px;\n  width: 100%;\n  padding: 0 20px;\n  color: #fff;\n  background: green;\n  .anticon{\n    font-size: 26px;\n  }\n"]);return l=function(){return e},e}var c=t(11).b.div(l()),s=t(261);function o(e){var n=e.title,t=e.Backfn;return(r.a.createElement(c,null,r.a.createElement(s.a,{onClick:t}),r.a.createElement("div",null,n)))}o.defaultProps={Backfn:function(){window.history.back()}};n.a=o},261:function(e,n,t){"use strict";var a=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},i=t(8),l=function(e,n){return a.createElement(i.a,Object.assign({},e,{ref:n,icon:r}))};l.displayName="ArrowLeftOutlined";n.a=a.forwardRef(l)},299:function(e,n,t){"use strict";t.r(n);var a=t(12),r=t(0),i=t.n(r),l=t(20),c=t(87),s=t(39),o=t(257),f=t(242),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},p=t(8),m=function(e,n){return r.createElement(p.a,Object.assign({},e,{ref:n,icon:u}))};m.displayName="PlusOutlined";var d=r.forwardRef(m),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},h=function(e,n){return r.createElement(p.a,Object.assign({},e,{ref:n,icon:g}))};h.displayName="PlayCircleOutlined";var v=r.forwardRef(h),b=t(10);function x(){var e=Object(b.a)(["\n  height: 100vh;\n  width: 100%;\n  background: #fff;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform-origin: right bottom;\n  transition: transform .3s cubic-bezier(0.25,0.1,0.25,1);\n  z-index: 3000;\n  &.singer-enter, &.singer-appear {\n    transform: rotateZ(40deg) translate3d(100%, 0, 0);\n  }\n  &.singer-enter-active, &.singer-appear-active{\n    transform: rotateZ(10deg) translate3d(0, 0, 0);\n  }\n  &.singer-exit{\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.singer-exit-active{\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n  .top-banner{\n    height: 300px;\n    width: 100%;\n    position: relative;\n    overflow:hidden;\n    img{\n      height: 300px;\n      transform-origin: top;\n      width: 100%;\n    }\n    .btn{\n      width: 100px;\n      height: 30px;\n      line-height: 30px;\n      position: absolute;\n      bottom:30px;\n      left: 50%;\n      color: #fff;\n      background: red;\n      text-align: center;\n      transform: translateX(-50%);\n      border-radius: 14px;\n      font-weight: 600\n    }\n  }\n  .scoll-wrap{\n    position: absolute;\n    top: 330px;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    background: #fff;\n    box-sizing: border-box;\n    overflow: hidden;\n    padding: 0 10px;\n    &.open-player{\n      bottom: 100px; \n    }\n    .title{\n      height: 35px;\n      line-height: 30px;\n      font-size: 16px;\n      border-bottom: 1px solid #efefef;\n      .anticon {\n        margin-left: 8px;\n        margin-right: 5px;\n      }\n      .play-text{\n        font-size: 14px\n      }\n      .all{\n        font-size: 12px\n        ;margin-left: 5px;\n      }\n      \n    }\n    .list{\n      .list-item{\n        height: 56px;\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-start;\n        align-items: center;\n        .num{\n          width: 30px;\n          text-align: center;\n        }\n        .name{\n          font-size: 14px;\n          font-weight: 600;\n          line-height: 25px; \n        }\n      }\n    }\n  }\n\n"]);return x=function(){return e},e}var y=t(11).b.div(x()),E=t(6);n.default=Object(l.b)((function(e){return{openPlayer:e.getIn(["player","openPlayer"]),playerinfo:e.getIn(["player","playerinfo"]),showMini:e.getIn(["player","showMini"])}}),(function(e){return{playAllMusicList:function(n){var t=n.map((function(e){return{title:e.name,singer:e.ar&&e.ar[0].name,alname:e.al&&e.al.name,pic:e.al&&e.al.picUrl,id:e.id}})),a=E.a.setPlaylist(t);e(a)},setXY:function(n,t){var a=E.a.setXY({x:n,y:t});e(a)},openMusic:function(n){var t={title:n.name,singer:n.ar&&n.ar[0].name,alname:n.al&&n.al.name,pic:n.al&&n.al.picUrl,id:n.id},a=E.a.getSrc(n.id),r=E.a.setCurrentPlayer(t),i=E.a.pushPlaylist(t);e(a),e(r),e(i)}}}))((function(e){var n=e.openMusic,t=e.playAllMusicList,l=e.history,u=e.setXY,p=e.openPlayer,m=(e.showMini,e.playerinfo),g=Object(r.useState)([]),h=Object(a.a)(g,2),b=h[0],x=h[1],E=Object(r.useState)({}),w=Object(a.a)(E,2),O=w[0],j=w[1],k=Object(r.useState)(!0),N=Object(a.a)(k,2),z=N[0],M=N[1],P=Object(r.useRef)(),q=Object(r.useRef)(),B=Object(r.useRef)(),L=Object(r.useRef)();return Object(r.useEffect)((function(){var n={id:e.match.params.id||5781};s.c(n).then((function(e){x(e.hotSongs||[]),j(e.artist||{}),M(!0)}))}),[l]),Object(r.useEffect)((function(){q.current&&(P.current=new c.a(q.current,{scrollY:!0,click:!0,bounce:!0,mouseWheel:!0,probeType:3,scrollbar:{fade:!0,interactive:!1}}),P.current.on("scroll",(function(e){if(!(e.y<-300)){if(q.current.style.top=330+e.y+"px",console.log(e.y),e.y>0){B.current.style.height=300+e.y+"px";var n=(300+e.y)/300;L.current.style.transform="scale(".concat(n,")")}console.log(B.current.style.height)}})))}),[z]),i.a.createElement(f.a,{in:z,timeout:300,unmountOnExit:!0,classNames:"singer",appear:!0,onExited:function(){return e.history.goBack()}},i.a.createElement(y,null,i.a.createElement(o.a,{Backfn:function(){M(!1)}}),i.a.createElement("div",{className:"top-banner",ref:B},O.picUrl?i.a.createElement("img",{ref:L,src:O.picUrl+"?param=400x400",alt:""}):null,i.a.createElement("div",{className:"btn"},i.a.createElement(d,null)," \u6536\u85cf")),i.a.createElement("div",{className:"scoll-wrap ".concat(p?"open-player":""),ref:q},i.a.createElement("div",null,i.a.createElement("div",{className:"title",onClick:function(){var e;0!==(e=b).legnth&&(n(e[0]),t(e))}},i.a.createElement(v,null),i.a.createElement("span",{className:"play-text"},"\u64ad\u653e\u5168\u90e8"),i.a.createElement("span",{className:"all"},"(\u517137\u9996)")),i.a.createElement("div",{className:"list"},b.map((function(e,t){return i.a.createElement("div",{className:"list-item",key:t,onClick:function(t){!function(e,t){t.id!=m.id&&(n(t),u(e.nativeEvent.clientX,e.nativeEvent.clientY))}(t,e)}},i.a.createElement("div",{className:"num"},t+1),i.a.createElement("div",{className:"right"},i.a.createElement("div",{className:"name"},e.name),i.a.createElement("div",{className:"singer"},e.ar&&e.ar[0].name," - ",e.al&&e.al.name)))})))))))}))}}]);
//# sourceMappingURL=7.c2f1a28a.chunk.js.map