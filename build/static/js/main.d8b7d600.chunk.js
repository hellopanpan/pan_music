(this["webpackJsonppanpan-music"]=this["webpackJsonppanpan-music"]||[]).push([[0],{121:function(e,n,t){"use strict";var r={};t.r(r),t.d(r,"searchFoucs",(function(){return l})),t.d(r,"setBanner",(function(){return u})),t.d(r,"setPersonal",(function(){return s})),t.d(r,"getList",(function(){return f})),t.d(r,"getBaner",(function(){return p})),t.d(r,"getPersonal",(function(){return d}));var a=t(44),i=Object(a.fromJS)({focused:!1,banner:[],personal:[]}),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1?arguments[1]:void 0;return"heder/search"===n.type&&n.value?e.set("focused",!0):"heder/search"!==n.type||n.value?"heder/banner"===n.type?e.set("banner",n.value):"heder/personalized"===n.type?e.set("personal",n.value):e:e.set("focused",!1)},c=t(39),l=function(e){return{type:"heder/search",value:e}},u=function(e){return{type:"heder/banner",value:e}},s=function(e){return{type:"heder/personalized",value:e}},f=function(e){return function(n){n(l(e))}},p=function(){return function(e){c.h({}).then((function(n){var t=u(n.banners||[]);e(t)})).catch((function(e){console.log(e)}))}},d=function(){return function(e){c.d({}).then((function(n){var t=s(n.result||[]);e(t)})).catch((function(e){console.log(e)}))}};t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return r}))},122:function(e,n,t){"use strict";var r=t(12),a=t(0),i=t.n(a),o=t(10);function c(){var e=Object(o.a)(["\n  .item{\n    height: 40px;\n    width: 40px;\n    position: fixed;\n    top: 40px;\n    left: 0;\n    pointer-events: none;\n    z-index: 88887999;\n    transform: translate3d(0, 0, 0);\n    opacity: 0;\n    transition: transform 1s cubic-bezier(.65,-0.12,.86,.57);\n    .icon{\n      pointer-events: none;\n      transform: translate3d(0, 0, 0);\n      transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\n      .iconfont{\n        font-size: 20px;\n        pointer-events: none;\n        color: green;\n      }\n    }\n  }\n  \n"]);return c=function(){return e},e}var l=t(11).b.div(c()),u=Object(a.forwardRef)((function(e,n){var t=Object(a.useRef)([]),o=Object(a.useRef)([]),c=Object(a.useRef)([]),u=Object(a.useState)([]),s=Object(r.a)(u,2),f=s[0],p=s[1];Object(a.useImperativeHandle)(n,(function(){return{getPositon:d}})),Object(a.useEffect)((function(){for(var e=0;e<10;)c.current.push({loading:!1}),e++;p(c.current)}),[]);var d=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r)for(var a=function(r){if(console.log(r+"_"+e+"_"+n),console.log(c.current),!c.current[r].loading){console.log(r),c.current[r].loading=!0;var a=r,i=t.current[a].current,l=o.current[a].current;return i.style.opacity="1",i.style.left=e+"px",i.style.top=n+"px",i.style.display="block",i.style.transform="translate3d(0, 750px, 0)",l.style.transform="translate3d(-60px, 0, 0)",i.addEventListener("transitionend",(function(){i.style.transform="translate3d(0, 0, 0)",l.style.transform="translate3d(0, 0, 0)",i.style.left=e+"px",i.style.top="40px",i.style.opacity="0"}),!1),setTimeout((function(){c.current[r].loading=!1}),2e3),"break"}},i=0;i<c.current.length;i++){var l=a(i);if("break"===l)break}};return(i.a.createElement(l,null,f.map((function(e,n){return t.current[n]=i.a.createRef(),o.current[n]=i.a.createRef(),i.a.createElement("div",{className:"item",ref:t.current[n],key:n},i.a.createElement("div",{className:"icon",ref:o.current[n]},i.a.createElement("div",{className:"iconfont icon-music-note"})))}))))}));n.a=u},139:function(e,n,t){e.exports=t(237)},147:function(e,n,t){},225:function(e,n,t){},237:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(9),o=t.n(i),c=t(10),l=t(11);function u(){var e=Object(c.a)(["\n  html, body, div, span, applet, object, iframe,\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n  a, abbr, acronym, address, big, cite, code,\n  del, dfn, em, img, ins, kbd, q, s, samp,\n  small, strike, strong, sub, sup, tt, var,\n  b, u, i, center,\n  dl, dt, dd, ol, ul, li,\n  fieldset, form, label, legend,\n  table, caption, tbody, tfoot, thead, tr, th, td,\n  article, aside, canvas, details, embed, \n  figure, figcaption, footer, header, hgroup, \n  menu, nav, output, ruby, section, summary,\n  time, mark, audio, video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  article, aside, details, figcaption, figure, \n  footer, header, hgroup, menu, nav, section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n    margin: 0 auto !important;\n  }\n  ol, ul {\n    list-style: none;\n  }\n  blockquote, q {\n    quotes: none;\n  }\n  blockquote:before, blockquote:after,\n  q:before, q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n"]);return u=function(){return e},e}var s=Object(l.a)(u()),f=(t(147),t(80)),p=t(120),d=function(e){return function(n){return a.a.createElement(r.Suspense,{fallback:null},a.a.createElement(e,n))}},m=Object(r.lazy)((function(){return Promise.all([t.e(4),t.e(5)]).then(t.bind(null,298))})),g=Object(r.lazy)((function(){return t.e(6).then(t.bind(null,301))})),y=Object(r.lazy)((function(){return Promise.all([t.e(3),t.e(8)]).then(t.bind(null,305))})),b=Object(r.lazy)((function(){return t.e(7).then(t.bind(null,299))})),v=[{path:"/detail",component:d(g),exact:!0},{path:"/search",component:d(y),exact:!0},{path:"/",component:d(m),routes:[{path:"/singerDetail/:id",component:d(b)}]}],h=t(12),x=t(242),E=t(20),O=t(6),j=t(122),w=t(241),k=t(250),N=t(248),z=t(251),S=t(252),C=t(247),P=t(246),I=t(245),L=t(244),R=t(243);function M(){var e=Object(c.a)(["\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    height: 100vh;\n    width: 100%;\n    background:rgba(0,0, 0, 0.5);\n    color: #fff;\n    z-index:100001;\n    .wrap{\n      top: 200px;\n      width: 100%;\n      position:absolute;\n      bottom: 0;\n      left: 0;\n      background: #fff;\n      padding: 20px 0;\n      transform: translate(0, 600px);\n      transition: all 0.5s;\n    }\n    .wraper-list{\n      height: 100%;\n      width: 100%;\n      overflow: hidden\n    }\n    \n    .itemL{\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      padding: 0.15rem 0.5rem;\n      font-size: 0.4rem;\n      cursor: pointer;\n      color: #333\n    }\n    .playcon{\n      width: 1rem;\n      color: green\n    }\n    .name2{\n      flex: 1;\n      overflow: hidden;\n      white-space:nowrap;\n      text-overflow:ellipsis \n    }\n    .icos{\n      width: 1rem;\n      padding-left: 0.2rem;\n      color: green\n    }\n"]);return M=function(){return e},e}function T(){var e=Object(c.a)(["\n  height: 100vh;\n  background: green;\n  position:absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index:100000;\n  &.singer-enter, &.singer-appear {\n    animation: "," 1s cubic-bezier(0.25,0.1,0.25,1);\n    animation-delay:0.5s;\n    -webkit-animation-delay:0.5s; /* Safari \u548c Chrome */\n    .button{\n      transform: translate(0, 130px);\n      transition: transform 0.2s cubic-bezier(0.86, 0.18, 0.82, 1.32);;\n    }\n  }\n  &.singer-enter-active, &.singer-appear-active{\n    animation: "," 0.6s cubic-bezier(0.25,0.1,0.25,1);\n    .button{\n      transform: translate(0, 0px);\n    }\n  }\n  &.singer-exit{\n    animation:  "," 0.8s cubic-bezier(0.25,0.1,0.25,1) forwards;\n    opacity: 1;\n    .button{\n      transform: translate(0, 130px);\n      transition: transform 1s cubic-bezier(0.86, 0.18, 0.82, 1.32);;\n    }\n  }\n  &.singer-exit-active{\n    \n  }\n  &.singer-exit-done{\n    opacity: 0;\n    .button{\n      transform: translate(0, 130px);\n    }\n  }\n  .top{\n    height: 100px;\n    padding: 10px 40px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    box-sizing: border-box;\n    .anticon{\n      font-size: 30px;\n      color: #fff;\n    }\n    .right{\n      margin-left: 26px;\n      font-size: 0.3rem;\n      color: #fff;\n    }\n  }\n  .wraper{\n    width: 100%;\n    position: absolute;\n    z-index: 100000;\n    background: #fff;\n    top: 100px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    padding: 1rem 1rem 0.3rem 1rem;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .audio{\n    display:none;\n  }\n  .lrc-cont{\n    flex: 1;\n    height: 400px;\n  }\n  .progress{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    color:#333;\n    padding-top: 10px;\n    .pro-bar{\n      width: 6rem;\n      margin: 0 0.5rem;\n    }\n    .cur{\n      width: 50px;\n    }\n    .total{\n      width: 50px;\n    }\n  }\n  .ico{\n    font-size: 40px;\n  }\n  .button{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 35px; \n    color:green;\n  }\n"]);return T=function(){return e},e}function q(){var e=Object(c.a)(["\n\n  box-shadow: 0px -2px 3px #efefef;\n  position: absolute;\n  bottom: 0;\n  height: 100px;\n  width: 100%;\n  background:#fff;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  z-index: 88888999;\n  padding: 0 20px;\n  &.singer-mini-enter, &.singer-mini-appear {\n    transform: translate3d(-260px, 500px, 0) scale(0);\n    opacity: 0;\n  }\n  &.singer-mini-enter-active, &.singer-mini-appear-active{\n    animation: "," 0.6s cubic-bezier(0.25,0.1,0.25,1) forwards;\n    animation-delay:0.8s;\n    -webkit-animation-delay:0.8s; /* Safari \u548c Chrome */\n    \n  }\n  &.singer-mini-exit{\n    animation:  "," 1s cubic-bezier(0.25,0.1,0.25,1) forwards;\n    opacity: 1;\n  }\n  &.singer-mini-exit-active{\n    \n  }\n  &.singer-mini-exit-done{\n    opacity: 0;\n  }\n  .pic{\n    height: 60px;\n    width: 60px;\n    border-radius: 50%;\n    &.play{\n      animation: "," 6s  linear infinite ;\n      &.pause{\n        animation-play-state: paused;\n      }\n    }\n  }\n  }\n  .title-wrap{\n    margin-left: 20px;\n    flex:1;\n  }\n  .name{\n    font-size: 16px;\n    color: #333;\n    line-height: 26px;\n    width: 175px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    word-break: break-all;\n  }\n  .singer{\n    font-size: 16px;\n    color: #999;\n  }\n  .ico{\n    font-size: 30px;\n  }\n  .anticon{\n    font-size: 30px;\n    margin-left: 10px;\n    color: green;\n  }\n  "]);return q=function(){return e},e}function _(){var e=Object(c.a)(["\n  audio{\n    display: none\n  }\n"]);return _=function(){return e},e}function B(){var e=Object(c.a)(["{\n  0%{\n    transform: rotate(0);\n  }\n  100%{\n    transform: rotate(360deg);\n  }\n}"]);return B=function(){return e},e}function J(){var e=Object(c.a)(["{\n  0%{\n    transform: translate3d(0px, 0px, 0) scale(1);\n  }\n  50%{\n    transform: translate3d(-10px, 20px, 0) scale(1.1);\n  }\n  100%{\n    transform: translate3d(-260px, 500px, 0) scale(0);\n  }\n}"]);return J=function(){return e},e}function Y(){var e=Object(c.a)(["{\n  0%{\n    transform: translate3d(-260px, 500px, 0) scale(0);\n    opacity: 0;\n  }\n  50%{\n    transform: translate3d(-10px, 20px, 0) scale(1.1);\n    opacity: 0.9;\n  }\n  100%{\n    transform: translate3d(0px, 0px, 0) scale(1);\n    opacity: 1;\n  }\n}"]);return Y=function(){return e},e}var V=Object(l.c)(Y()),D=Object(l.c)(J()),F=Object(l.c)(B()),W=l.b.div(_()),X=l.b.div(q(),V,D,F),U=l.b.div(T(),V,V,D),A=l.b.div(M()),H=function(e){if(!e)return{time:[],lrc:[],timer:[]};var n=/\[\d{2,4}:\d{2}\.\d+\]/g,t=e.match(n),r=(e=e.replace(n,"kkk")).split("kkk");r=r.slice(1);var a=[];return t.map((function(e,n){var t=(e=e.replace(/\[/,"").replace(/\]/,"")).split(":"),r=60*parseInt(t[0])+parseFloat(t[1]);return a.push(r),0})),{time:t,lrc:r,timer:a}},$=t(55);function G(e){var n=e.yy,t=e.currentLineNum,i=Object(r.useRef)([]),o=Object(r.useState)(),c=Object(h.a)(o,2),l=c[0],u=c[1],s=Object(r.useCallback)((function(e){if(!(t<5||t>=e)){var n=i.current[t-5].current;u(n)}}),[t]);return Object(r.useEffect)((function(){s(n.length)}),[t,n,s]),a.a.createElement($.a,{lineEl:l},a.a.createElement("div",null,n.map((function(e,n){return i.current[n]=a.a.createRef(),a.a.createElement("div",{className:"content ".concat(n===t?"color":""),key:n,ref:i.current[n]},e)}))))}G.defaultProps={yy:[]};var K=a.a.memo(G);function Q(){var e=Object(c.a)(["\n  height: 100%;\n  width: 100%;\n  border-radius: 10px;\n  overflow:hidden;\n  .content{\n    line-height: 30px;\n    width: 100%;\n    text-align: center;\n    font-size: 16px;\n    color: #666;\n    opacity: 0.6\n  }\n  .color{\n    color: green;\n    opacity: 1;\n  }\n"]);return Q=function(){return e},e}var Z=l.b.div(Q());var ee=Object(E.b)((function(e){return{lyric:e.getIn(["player","lrc"]),src:e.getIn(["player","src"]),current:e.getIn(["player","current"])}}),(function(e){return{getlrc:function(n){var t=O.a.getlrc(n);e(t)}}}))((function(e,n){var t=e.lyric,i=e.current,o=e.src,c=e.getlrc,l=Object(r.useState)(["\u6b4c\u8bcd\u52a0\u8f7d\u4e2d.."]),u=Object(h.a)(l,2),s=u[0],f=u[1],p=Object(r.useState)(-1),d=Object(h.a)(p,2),m=d[0],g=d[1],y=Object(r.useState)([""]),b=Object(h.a)(y,2),v=b[0],x=b[1];return Object(r.useEffect)((function(){if(t){var e=H(t);x(e.time),f(e.lrc)}}),[t]),Object(r.useEffect)((function(){v.forEach((function(e,n){var t=(e=e.replace(/\[/,"").replace(/\]/,"")).split(":"),r=60*parseInt(t[0])+parseFloat(t[1]);parseInt(i)===parseInt(r)&&g(n)}))}),[i,v]),Object(r.useEffect)((function(){if(o){var e=o.match(/\d{5,20}/);e&&c(e[0])}}),[o,c]),a.a.createElement(Z,null,a.a.createElement(K,{yy:s,currentLineNum:m}))})),ne=t(249),te=Object(E.b)((function(e){return{player2:e.getIn(["player","playerinfo"])}}),(function(e){return{openMusic:function(n){var t=O.a.getSrc(n.id),r=O.a.setCurrentPlayer(n);e(t),e(r)},removeSong:function(n,t,r){console.log("remove");var a=O.a.removeSong(n);if(e(a),n.id===t.id&&r.length>=2){var i=O.a.goNext(n.id,r,!0);e(i)}}}}))((function(e){var n=e.playList,t=e.player2,i=e.showListflag,o=e.openMusic,c=e.removeSong,l=e.goList,u=Object(r.useState)(),s=Object(h.a)(u,2),f=s[0],p=s[1],d=Object(r.useState)(0),m=Object(h.a)(d,2),g=m[0],y=m[1],b=Object(r.useState)(!1),v=Object(h.a)(b,2),x=v[0],E=v[1],O=Object(r.useRef)(),j=Object(r.useRef)(!0),w=Object(r.useRef)(0),k=Object(r.useCallback)((function(e,n,t,r){e.stopPropagation(),console.log(2222),c(n,t,r)}),[c]);Object(r.useEffect)((function(){O.current.style.transition="all 0.5s",O.current.style.transform="translate(0, 0px)"}),[i]);return a.a.createElement(A,{onClick:function(){l(!1)}},a.a.createElement("div",{className:"wrap",onClick:function(e){e.stopPropagation()},onTouchStart:function(e){j.current&&(console.log(e.nativeEvent.touches[0].pageY),p(e.nativeEvent.touches[0].pageY),w.current=e.nativeEvent.touches[0].pageY,E(!0))},onTouchMove:function(e){if(j.current&&x){var n=e.nativeEvent.touches[0].pageY-f;y(n),console.log(n),n<0||(O.current.style.transition="all 0s",O.current.style.transform="translate(0, ".concat(g,"px)"))}},onTouchEnd:function(e){E(!1),O.current.style.transition="all 0.5s",g>200&&(O.current.style.transform="translate(0, 600px)",l(!1)),g<=200&&(O.current.style.transform="translate(0, 0)")},ref:O},a.a.createElement($.a,{bounceTop:!1,handleScroll:function(e){j.current=0===parseInt(e.y)}},a.a.createElement("div",null,n.map((function(e,r){return a.a.createElement("div",{className:"itemL",key:e.id,onClick:function(n){!function(e,n){e.stopPropagation(),o(n)}(n,e)}},a.a.createElement("div",{className:"playcon"},t.id===e.id?a.a.createElement(N.a,null):null),a.a.createElement("div",{className:"name2"},e.title),a.a.createElement("div",{className:"icos"},a.a.createElement(ne.a,{onClick:function(r){k(r,e,t,n)}})))}))))))})),re=Object(r.memo)((function(e){var n=e.play,t=e.volume,i=e.src,o=e.player2,c=e.playList,l=e.showMini,u=e.circle,s=e.xy,f=e.setplay,p=e.setCurrenttimestate,d=e.toggleMini,m=e.goNext,g=e.toggleCircle,y=e.openPlayer,b=Object(r.useState)(0),v=Object(h.a)(b,2),E=v[0],O=v[1],M=Object(r.useState)(0),T=Object(h.a)(M,2),q=T[0],_=T[1],B=Object(r.useState)(!1),J=Object(h.a)(B,2),Y=J[0],V=J[1],D=Object(r.useRef)(),F=Object(r.useRef)(),A=Object(r.useRef)();Object(r.useEffect)((function(){i&&(D.current.src=i,D.current.autoplay=!0,D.current.loop=!0,n||f())}),[i,f]),Object(r.useEffect)((function(){console.log("star-----"+l),s.x&&s.y&&l&&A.current&&A.current.getPositon(s.x,s.y,l)}),[s]),Object(r.useEffect)((function(){D.current&&(n&&D.current.play(),n||D.current.pause(),y()),F.current=!0}),[n,y]),Object(r.useEffect)((function(){D.current&&(D.current.volume=t/100)}),[t]);var H=n?a.a.createElement("div",{className:"ico",onClick:f},a.a.createElement(k.a,null)):a.a.createElement("div",{className:"ico",onClick:f},a.a.createElement(N.a,null)),$=function(e){var n=parseInt(e)/60>0?parseInt(parseInt(e)/60):"0",t=parseInt(parseInt(e)%60);return"".concat(n>=10?n:"0"+n,": ").concat(t>=10?t:"0"+t)},G=function(e){V(e)},K=a.a.createElement(te,{playList:c,goList:G,showListflag:Y}),Q=a.a.createElement(x.a,{classNames:"singer-mini",in:l,timeout:2e3,appear:!0,unmountOnExit:!0},a.a.createElement(X,null,o.pic?a.a.createElement("img",{src:o.pic+"?param=100x100",className:"pic play ".concat(n?"":"pause"),alt:"",onClick:d}):null,a.a.createElement("div",{className:"title-wrap",onClick:d},a.a.createElement("div",{className:"name"},o.title),a.a.createElement("div",{className:"singer"},o.singer)),H,a.a.createElement(z.a,{onClick:function(e){G(!0)}}))),Z=a.a.createElement(x.a,{classNames:"singer",in:!l,timeout:2e3,appear:!0,unmountOnExit:!0},a.a.createElement(U,null,a.a.createElement("div",{className:"top"},a.a.createElement(S.a,{onClick:d}),a.a.createElement("div",{className:"right"},a.a.createElement("div",{className:"title"},o.title),a.a.createElement("div",{className:"singer"},o.singer))),a.a.createElement("div",{className:"wraper"},a.a.createElement("div",{className:"lrc-cont"},a.a.createElement(ee,null)),a.a.createElement("div",{className:"progress"},a.a.createElement("div",{className:"cur"},$(q)),a.a.createElement("div",{className:"pro-bar"},a.a.createElement(w.a,{value:q/E*100,onChange:function(e){!function(e){D.current.currentTime=e/100*E}(e)}})," "),a.a.createElement("div",{className:"total"},$(E))),a.a.createElement("div",{className:"button"},a.a.createElement(C.a,{onClick:d}),u?a.a.createElement(P.a,{onClick:g}):a.a.createElement(I.a,{onClick:g}),a.a.createElement(L.a,{onClick:function(){return m(o.id,c,!1)}}),H,a.a.createElement(R.a,{onClick:function(){return m(o.id,c,!0)}}),a.a.createElement(z.a,{onClick:function(e){G(!0)}})))));return a.a.createElement("div",null,F.current?a.a.createElement(W,null,a.a.createElement("audio",{className:"audio",controls:"controls",onTimeUpdate:function(){O(D.current.duration),_(parseInt(D.current.currentTime)),p(D.current.currentTime),D.current.duration-D.current.currentTime<=1&&!u&&m(o.id,c,!0)},ref:D}),Z,Q,Y?K:null):null,a.a.createElement(j.a,{ref:A}))})),ae=Object(E.b)((function(e){return{play:e.getIn(["player","play"]),xy:e.getIn(["player","xy"]),volume:e.getIn(["player","volume"]),src:e.getIn(["player","src"]),current:e.getIn(["player","current"]),player2:e.getIn(["player","playerinfo"]),playList:e.getIn(["player","playList"]),showMini:e.getIn(["player","showMini"]),circle:e.getIn(["player","circle"])}}),(function(e){return{openPlayer:function(){var n=O.a.openPlayer();e(n)},setplay:function(n){var t=O.a.setPlay(n);e(t)},setVolume:function(n){var t=O.a.setVolume(n);e(t)},setCurrenttimestate:function(n){var t=O.a.setCurrenttime(n);e(t)},openMusic:function(n){var t=O.a.getSrc(n.id),r=O.a.setCurrentPlayer(n);e(t),e(r)},toggleMini:function(){var n=O.a.toggleMini();e(n)},goNext:function(n,t,r){var a=O.a.goNext(n,t,r);e(a)},toggleCircle:function(){var n=O.a.toggleCircle();e(n)}}}))(re),ie=t(240);t(225);var oe=Object(E.b)((function(e){return{loading:e.getIn(["player","loading"])}}),null)((function(e){var n=e.loading;return(a.a.createElement("div",{className:"App"},n?a.a.createElement(ie.a,{className:"loading-icon",size:"large"}):null,a.a.createElement("div",{className:"app-wrap"},a.a.createElement(f.a,null,Object(p.a)(v))),a.a.createElement("div",{className:"player-wrap-all"},a.a.createElement(ae,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=t(49);t(235),t(236);o.a.render(a.a.createElement(E.a,{store:ce.a},a.a.createElement(oe,null),a.a.createElement(s,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},39:function(e,n,t){"use strict";var r=t(126),a=t.n(r),i=t(49),o=t(6),c=function(e){var n=Object.assign({method:"POST"},e);return n.url="/music-api"+n.url,i.a.dispatch(o.a.setLoading(!0)),new Promise((function(e,t){a()(n).then((function(n){i.a.dispatch(o.a.setLoading(!1)),200===n.data.code?e(n.data):t(n.data)})).catch((function(e){i.a.dispatch(o.a.setLoading(!1)),t(e)}))}))};t.d(n,"h",(function(){return l})),t.d(n,"d",(function(){return u})),t.d(n,"e",(function(){return s})),t.d(n,"i",(function(){return f})),t.d(n,"g",(function(){return p})),t.d(n,"f",(function(){return d})),t.d(n,"a",(function(){return m})),t.d(n,"b",(function(){return g})),t.d(n,"c",(function(){return y})),t.d(n,"k",(function(){return b})),t.d(n,"j",(function(){return v}));var l=function(e){return c({method:"get",url:"/banner"})},u=function(e){return c({method:"get",url:"/personalized"})},s=function(e){return c({method:"get",url:"/playlist/detail",params:e})},f=function(e){return"https://music.163.com/song/media/outer/url?id=".concat(e,".mp3")},p=function(e){return c({method:"get",url:"/lyric",params:e})},d=function(e){return c({method:"get",url:"/search",params:e})},m=function(e){return c({method:"get",url:"/top/artists",params:e})},g=function(e){return c({method:"get",url:"/artist/list",params:e})},y=function(e){return c({method:"get",url:"/artists",params:e})},b=function(e){return c({method:"get",url:"/toplist/detail",params:e})},v=function(e){return c({method:"get",url:"/song/detail",params:e})}},49:function(e,n,t){"use strict";var r=t(46),a=t(121),i=t(6),o=t(127),c=Object(o.combineReducers)({recomend:a.b,player:i.b}),l=t(128),u=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.c,s=Object(r.d)(c,u(Object(r.a)(l.a)));n.a=s},55:function(e,n,t){"use strict";var r=t(0),a=t.n(r),i=t(87),o=t(10);function c(){var e=Object(o.a)(["\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n"]);return c=function(){return e},e}var l=t(11).b.div(c());function u(e){var n=e.bounceTop,t=e.bounceBottom,o=e.lineEl,c=e.handleScroll,u=Object(r.useRef)(),s=Object(r.useRef)();return Object(r.useEffect)((function(){o&&s.current.scrollToElement(o,1e3)}),[o]),Object(r.useEffect)((function(){u.current&&(s.current=new i.a(u.current,{scrollY:!0,click:!0,mouseWheel:!0,probeType:3,bounce:{top:n,bottom:t}}),s.current.on("scroll",(function(e){c(e)})))}),[n,t,c]),a.a.createElement(l,{ref:u},e.children)}u.defaultProps={bounceTop:!0,bounceBottom:!0,handleScroll:function(e){},lineEl:null};n.a=u},6:function(e,n,t){"use strict";var r={};t.r(r),t.d(r,"setPlay",(function(){return l})),t.d(r,"setVolume",(function(){return u})),t.d(r,"setLoading",(function(){return s})),t.d(r,"setSrc",(function(){return f})),t.d(r,"setXY",(function(){return p})),t.d(r,"setlrc",(function(){return d})),t.d(r,"setCurrenttime",(function(){return m})),t.d(r,"setCurrentPlayer",(function(){return g})),t.d(r,"setPlaylist",(function(){return y})),t.d(r,"pushPlaylist",(function(){return b})),t.d(r,"toggleMini",(function(){return v})),t.d(r,"removeSong",(function(){return h})),t.d(r,"openPlayer",(function(){return x})),t.d(r,"toggleCircle",(function(){return E})),t.d(r,"goNext",(function(){return O})),t.d(r,"getSrc",(function(){return j})),t.d(r,"getlrc",(function(){return w}));var a=t(44),i=Object(a.fromJS)({play:!1,volume:100,src:"",lrc:"",current:0,playerinfo:{},xy:{},playList:[],showMini:!1,openPlayer:!1,circle:!1,loading:!1}),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1?arguments[1]:void 0;if("player/play"===n.type)return e.set("play",!e.get("play"));if("player/loading"===n.type)return e.set("loading",n.value);if("player/volume"===n.type)return e.set("volume",n.value);if("player/src"===n.type)return e.set("src",n.value);if("player/xy"===n.type)return e.set("xy",n.value);if("player/lrc"===n.type)return e.set("lrc",n.value);if("player/time"===n.type)return e.set("current",n.value);if("player/playerinfo"===n.type)return e.set("playerinfo",n.value);if("player/toggleMini"===n.type)return e.set("showMini",!e.get("showMini"));if("player/list"===n.type)return e.set("playList",n.value);if("player/pushSong"===n.type){var t=e.get("playList"),r=[];return t.forEach((function(e,t){n.value.id!==e.id&&r.push(e)})),r.unshift(n.value),e.set("playList",r)}if("player/toggleCircle"===n.type)return e.set("circle",!e.get("circle"));if("player/openPlayer"===n.type)return e.set("openPlayer",!0);if("player/goRemove"===n.type){var a=e.get("playList"),o=[];return a.forEach((function(e){n.value.id!==e.id&&o.push(e)})),console.log(o),e.set("playList",o)}return e},c=t(39),l=function(){return{type:"player/play"}},u=function(e){return{type:"player/volume",value:e}},s=function(e){return{type:"player/loading",value:e}},f=function(e){return{type:"player/src",value:e}},p=function(e){return{type:"player/xy",value:e}},d=function(e){return{type:"player/lrc",value:e}},m=function(e){return{type:"player/time",value:e}},g=function(e){return{type:"player/playerinfo",value:e}},y=function(e){return{type:"player/list",value:e}},b=function(e){return{type:"player/pushSong",value:e}},v=function(){return{type:"player/toggleMini"}},h=function(e){return{type:"player/goRemove",value:e}},x=function(){return{type:"player/openPlayer"}},E=function(e){return{type:"player/toggleCircle"}},O=function(e,n,t){var r,a=0,i=JSON.parse(JSON.stringify(n));return i.forEach((function(n,r){n.id===e&&(t&&(a=r+1),t||(a=r-1))})),a===n.length&&(a=0),-1===a&&(a=n.length-1),r=i.splice(a,1),function(e){e(j(r[0].id)),e(g(r[0]))}},j=function(e){return function(n){var t=c.i(e);n(f(t))}},w=function(e){return function(n){c.g({id:e}).then((function(e){var t=d(e.lrc.lyric);n(t)})).catch((function(e){console.log(e)}))}};t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return r}))}},[[139,1,2]]]);
//# sourceMappingURL=main.d8b7d600.chunk.js.map