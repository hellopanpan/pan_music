{"version":3,"sources":["views/recomend/store/actionType.js","views/recomend/store/reducer.js","views/recomend/store/actionCreators.js","views/recomend/store/index.js","common/musicStart/style.js","common/musicStart/index.js","style.js","router/index.js","views/player/style.js","utils/lrcParse.js","views/player/lrc/scroll.js","views/player/lrc/style.js","views/player/lrc/index.js","views/player/list.js","views/player/index.js","App.js","serviceWorker.js","index.js","utils/fetch.js","api/index.js","store/reducer.js","store/index.js","common/scroll/style.js","common/scroll/index.js","views/player/store/actionType.js","views/player/store/reducer.js","views/player/store/actionCreators.js","views/player/store/index.js"],"names":["defaultState","fromJS","focused","banner","personal","state","action","type","value","set","searchFoucs","flag","setBanner","res","setPersonal","getList","dispatch","getBaner","api","then","banners","catch","err","console","log","getPersonal","result","Wrap","styled","div","MusicStart","forwardRef","props","ref","wrapRef","useRef","iconRef","arrRef","useImperativeHandle","getPositon","useEffect","i","current","push","loading","x","y","index","wrap","icon","style","addEventListener","setTimeout","length","map","item","React","createRef","className","key","Globalstyle","createGlobalStyle","Header","lazy","Detail","Search","SingerDetail","SuspenseComponent","Component","fallback","routes","path","component","exact","AudioWrap","IPlayer","Nplayer","PlayListI","paserLrc","lrc","time","timer","reg","arr1","match","arr2","replace","split","slice","arrtime","time2","parseInt","parseFloat","LrcScroll","yy","currentLineNum","lyricLineRef","useState","lineEl","setLineEl","goNext","useCallback","max","defaultProps","memo","connect","lyric","getIn","src","getlrc","id","actionsCreators","setYy","setCurrentLineNum","setTime","arr","forEach","player2","openMusic","getSrc","action2","setCurrentPlayer","removeSong","list","playList","showListflag","goList","start","setStart","distance","setDistance","initialed","setInitialed","moveRef","canmoveRef","startRef","onClick","e","stopPropagation","onTouchStart","nativeEvent","touches","pageY","onTouchMove","distance2","onTouchEnd","bounceTop","handleScroll","pos","goSong","PlayCircleFilled","title","DeleteFilled","goremoveSong","Player","play","volume","showMini","circle","xy","setplay","setCurrenttimestate","toggleMini","toggleCircle","openPlayer","duration","setDuration","currentTime","setCurrentTime","setShowListflag","audioRef","playerRef","musicRef","autoplay","loop","pause","PauseCircleFilled","getSecondMin","sec","min","sec2","mini","pic","alt","singer","AlignRightOutlined","normal","DownOutlined","onChange","setDurationsit","LoginOutlined","SyncOutlined","VerticalRightOutlined","VerticalLeftOutlined","controls","onTimeUpdate","CSSTransition","timeout","setPlay","setVolume","num","setCurrenttime","size","renderRoutes","Boolean","window","location","hostname","ReactDOM","render","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","fetch","options","opts","Object","assign","method","url","actionsCreatorsPlayer","setLoading","Promise","resolve","reject","Axios","data","code","getSongUr","params","getPlaylistDetail","getSongUrlSrc","getSongLrc","getSearch","getArtists","getArtistsList","getArtistsListDetail","getTopList","getSongsDetail","combineReducers","recomend","recomendReducer","player","PlayerReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","applyMiddleware","thunk","ScrollCont","Scroll","bounceBottom","usescollRef","scrollToElement","BScroll","scrollY","click","mouseWheel","probeType","bounce","top","bottom","on","children","playerinfo","get","unshift","setSrc","setXY","setlrc","setPlaylist","pushPlaylist","song","index1","list1","JSON","parse","stringify","splice"],"mappings":"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","file":"static/js/main.95f9e039.chunk.js","sourcesContent":["export const SET_SEARCH = 'heder/search'\r\nexport const SET_BANNER = 'heder/banner'\r\nexport const SET_PERSONAL = 'heder/personalized'","import { SET_SEARCH, SET_BANNER, SET_PERSONAL } from './actionType'\r\n// immutable 库\r\nimport { fromJS } from 'immutable'\r\nconst defaultState = fromJS({\r\n  focused: false,\r\n  banner: [],\r\n  personal: []\r\n})\r\n\r\nexport default (state = defaultState, action) => {\r\n  if (action.type === SET_SEARCH && action.value) {\r\n    return state.set('focused', true)\r\n  };\r\n  if (action.type === SET_SEARCH && !action.value) {\r\n    return state.set('focused', false)\r\n\r\n  }\r\n  if (action.type === SET_BANNER ) {\r\n    return state.set('banner', action.value)\r\n  }\r\n  if (action.type === SET_PERSONAL ) {\r\n    return state.set('personal', action.value)\r\n  }\r\n  return state;\r\n}","import { \r\n  SET_SEARCH, \r\n  SET_BANNER,\r\n  SET_PERSONAL\r\n } from './actionType'\r\nimport * as api from '@/api'\r\nexport const searchFoucs = (flag) => ({\r\n  type: SET_SEARCH,\r\n  value: flag\r\n});\r\nexport const setBanner = (res) => ({\r\n  type: SET_BANNER,\r\n  value: res\r\n});\r\nexport const setPersonal = (res) => ({\r\n  type: SET_PERSONAL,\r\n  value: res\r\n});\r\nexport const getList = (flag) => {\r\n  // 可以return 一个函数\r\n  return (dispatch) => {\r\n    // 异步操作\r\n    let action  = searchFoucs(flag)\r\n    // dispatch过去\r\n    dispatch(action)\r\n  }\r\n}\r\nexport const getBaner = () => {\r\n  // 可以return 一个函数\r\n  return (dispatch) => {\r\n    // 异步操作\r\n    api.getSongUr({}).then(res => {\r\n      let action  = setBanner(res.banners || [])\r\n      dispatch(action)\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n    // dispatch过去\r\n    \r\n  }\r\n}\r\nexport const getPersonal = () => {\r\n  // 可以return 一个函数\r\n  return (dispatch) => {\r\n    // 异步操作\r\n    api.getPersonal({}).then(res => {\r\n      let action  = setPersonal(res.result || [])\r\n      dispatch(action)\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n    // dispatch过去\r\n    \r\n  }\r\n}","import reducer from './reducer'\r\nimport * as actionType from './actionType'\r\nimport * as actionsCreators from './actionCreators'\r\nexport {\r\n  reducer,\r\n  actionType,\r\n  actionsCreators\r\n}","import styled from 'styled-components'\r\n\r\nexport const Wrap = styled.div`\r\n  .item{\r\n    height: 40px;\r\n    width: 40px;\r\n    position: fixed;\r\n    top: 40px;\r\n    left: 0;\r\n    pointer-events: none;\r\n    z-index: 88887999;\r\n    transform: translate3d(0, 0, 0);\r\n    opacity: 0;\r\n    transition: transform 1s cubic-bezier(.65,-0.12,.86,.57);\r\n    .icon{\r\n      pointer-events: none;\r\n      transform: translate3d(0, 0, 0);\r\n      transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\r\n      .iconfont{\r\n        font-size: 20px;\r\n        pointer-events: none;\r\n        color: green;\r\n      }\r\n    }\r\n  }\r\n  \r\n`","import React, { useRef, useEffect, forwardRef, useImperativeHandle} from 'react';\r\n// import { CSSTransition } from 'react-transition-group'\r\nimport { connect } from 'react-redux'\r\nimport BScroll from 'better-scroll'\r\n\r\n// 样式\r\nimport { \r\n  Wrap\r\n} from './style';\r\n\r\n\r\nconst  MusicStart = forwardRef((props, ref) => {\r\n  const wrapRef = useRef([])\r\n  const iconRef = useRef([])\r\n  const arrRef = useRef([])\r\n   \r\n  //获取传入的\r\n  useImperativeHandle(ref, () => ({\r\n    getPositon\r\n  }));\r\n\r\n  // 生成数组\r\n  useEffect(() => {\r\n    let i = 0\r\n    while(i < 10) {\r\n      arrRef.current.push({loading: false})\r\n      i++;\r\n    }\r\n  },[]);\r\n\r\n  // 动画 \r\n  const getPositon = (x,y, flag = true) => {\r\n    if (!flag) return\r\n    for (let index = 0; index< arrRef.current.length; index ++ ) {\r\n      let item = arrRef.current[index]\r\n      console.log(index +'_'+x +'_'+ y)\r\n      console.log(arrRef.current)\r\n      if (!arrRef.current[index].loading) {\r\n        console.log(index)\r\n        arrRef.current[index].loading = true;\r\n        let i = index;\r\n        let wrap = wrapRef.current[i].current\r\n        let icon = iconRef.current[i].current\r\n        // 运动\r\n        wrap.style['opacity'] = \"1\"\r\n        wrap.style['left'] = x + 'px'\r\n        wrap.style['top'] = y + 'px'\r\n        wrap.style['display'] = \"block\"\r\n        wrap.style['transform'] = `translate3d(0, 750px, 0)`\r\n        icon.style['transform'] = `translate3d(-60px, 0, 0)`\r\n        wrap.addEventListener('transitionend', () => {\r\n          // 恢复\r\n          wrap.style['transform'] = `translate3d(0, 0, 0)`;\r\n          icon.style['transform'] = `translate3d(0, 0, 0)`;\r\n          wrap.style['left'] = x + 'px'\r\n          wrap.style['top'] = 40 + 'px'\r\n          wrap.style['opacity'] = \"0\"\r\n        }, false);\r\n        setTimeout(() => {\r\n          arrRef.current[index].loading = false\r\n        }, 2000);\r\n        break\r\n      }\r\n    }\r\n    \r\n  }\r\n  return(\r\n    <Wrap>\r\n        {\r\n          arrRef.current.map((item, index) => {\r\n            wrapRef.current[index] = React.createRef();\r\n            iconRef.current[index] = React.createRef();\r\n            return (\r\n              <div className=\"item\" ref={wrapRef.current[index]} key={index}>\r\n                <div className=\"icon\" ref={iconRef.current[index]}>\r\n                  <div className=\"iconfont icon-music-note\"></div>\r\n                </div>\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n    </Wrap>\r\n  )\r\n})\r\n\r\nexport default MusicStart;","import { createGlobalStyle } from 'styled-components' ;\r\nexport const Globalstyle = createGlobalStyle`\r\n  html, body, div, span, applet, object, iframe,\r\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\n  a, abbr, acronym, address, big, cite, code,\r\n  del, dfn, em, img, ins, kbd, q, s, samp,\r\n  small, strike, strong, sub, sup, tt, var,\r\n  b, u, i, center,\r\n  dl, dt, dd, ol, ul, li,\r\n  fieldset, form, label, legend,\r\n  table, caption, tbody, tfoot, thead, tr, th, td,\r\n  article, aside, canvas, details, embed, \r\n  figure, figcaption, footer, header, hgroup, \r\n  menu, nav, output, ruby, section, summary,\r\n  time, mark, audio, video {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    font-size: 100%;\r\n    font: inherit;\r\n    vertical-align: baseline;\r\n  }\r\n  article, aside, details, figcaption, figure, \r\n  footer, header, hgroup, menu, nav, section {\r\n    display: block;\r\n  }\r\n  body {\r\n    line-height: 1;\r\n    margin: 0 auto !important;\r\n  }\r\n  ol, ul {\r\n    list-style: none;\r\n  }\r\n  blockquote, q {\r\n    quotes: none;\r\n  }\r\n  blockquote:before, blockquote:after,\r\n  q:before, q:after {\r\n    content: '';\r\n    content: none;\r\n  }\r\n  table {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n  }\r\n`","import React, { lazy, Suspense } from \"react\";\r\nconst Header = lazy(() => import(/* webpackChunkName: \"Header\" */ '@/views/header/index')); \r\nconst Detail = lazy(() => import(/* webpackChunkName: \"Detail\" */ '@/views/detail/index'));  \r\nconst Search = lazy(() => import(/* webpackChunkName: \"Search\" */ '@/views/search/index'));   \r\nconst SingerDetail = lazy(() => import(/* webpackChunkName: \"SingerDetail\" */ '@/views/singerDetail/index'));   \r\n\r\nconst SuspenseComponent = Component => props => {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Component {...props}></Component>\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nconst routes = [\r\n  {\r\n    path:'/detail',\r\n    component: SuspenseComponent(Detail),\r\n    exact:true\r\n  },\r\n  {\r\n    path:'/search',\r\n    component: SuspenseComponent(Search),\r\n    exact:true\r\n  },\r\n  {\r\n    path:'/',\r\n    component: SuspenseComponent(Header),\r\n    routes: [\r\n      {\r\n        path: \"/singerDetail/:id\",\r\n        component: SuspenseComponent(SingerDetail),\r\n      }\r\n    ]\r\n  },\r\n]\r\nexport {routes}","import styled from 'styled-components'\r\nexport const AudioWrap = styled.div`\r\n  audio{\r\n    display: none\r\n  }\r\n`\r\nexport const IPlayer = styled.div`\r\n  box-shadow: 0px -2px 3px #efefef;\r\n  position: absolute;\r\n  bottom: 0;\r\n  height: 100px;\r\n  width: 100%;\r\n  background:#fff;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  z-index: 88888999;\r\n  padding: 0 20px;\r\n  .pic{\r\n    height: 60px;\r\n    width: 60px;\r\n  }\r\n  .title-wrap{\r\n    margin-left: 20px;\r\n    flex:1;\r\n  }\r\n  .name{\r\n    font-size: 16px;\r\n    color: #333;\r\n    width: 175px;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    word-break: break-all;\r\n  }\r\n  .singer{\r\n    font-size: 16px;\r\n    color: #999;\r\n  }\r\n  .ico{\r\n    font-size: 30px;\r\n  }\r\n  .anticon{\r\n    font-size: 30px;\r\n    margin-left: 10px;\r\n    color: green;\r\n  }\r\n`;\r\nexport const Nplayer = styled.div`\r\n  height: 100vh;\r\n  background: green;\r\n  position:absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index:100000;\r\n  .top{\r\n    height: 100px;\r\n    padding: 10px 40px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    .anticon{\r\n      font-size: 30px;\r\n      color: #fff;\r\n    }\r\n    .right{\r\n      margin-left: 26px;\r\n      font-size: 0.3rem;\r\n      color: #fff;\r\n    }\r\n  }\r\n  .wraper{\r\n    width: 100%;\r\n    position: absolute;\r\n    z-index: 100000;\r\n    background: #fff;\r\n    top: 100px;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    padding: 1rem 1rem 0.3rem 1rem;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .audio{\r\n    display:none;\r\n  }\r\n  .lrc-cont{\r\n    flex: 1;\r\n    height: 400px;\r\n  }\r\n  .progress{\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    color:#333;\r\n    padding-top: 10px;\r\n    .pro-bar{\r\n      width: 6rem;\r\n      margin: 0 0.5rem;\r\n    }\r\n    .cur{\r\n      width: 40px;\r\n    }\r\n    .total{\r\n      width: 40px;\r\n    }\r\n  }\r\n  .ico{\r\n    font-size: 40px;\r\n  }\r\n  .button{\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    font-size: 35px; \r\n    color:green;\r\n  }\r\n`\r\n\r\n\r\nexport const PlayListI = styled.div`\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    height: 100vh;\r\n    width: 100%;\r\n    background:rgba(0,0, 0, 0.5);\r\n    color: #fff;\r\n    z-index:100001;\r\n    .wrap{\r\n      top: 200px;\r\n      width: 100%;\r\n      position:absolute;\r\n      bottom: 0;\r\n      left: 0;\r\n      background: #fff;\r\n      padding: 20px 0;\r\n      transform: translate(0, 600px);\r\n      transition: all 0.5s;\r\n    }\r\n    .wraper-list{\r\n      height: 100%;\r\n      width: 100%;\r\n      overflow: hidden\r\n    }\r\n    \r\n    .itemL{\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      padding: 0.15rem 0.5rem;\r\n      font-size: 0.4rem;\r\n      cursor: pointer;\r\n      color: #333\r\n    }\r\n    .playcon{\r\n      width: 1rem;\r\n      color: green\r\n    }\r\n    .name2{\r\n      flex: 1;\r\n      overflow: hidden;\r\n      white-space:nowrap;\r\n      text-overflow:ellipsis \r\n    }\r\n    .icos{\r\n      width: 1rem;\r\n      padding-left: 0.2rem;\r\n      color: green\r\n    }\r\n`","export const paserLrc = (lrc) => {\r\n  if (!lrc) return {time: [], lrc: [], timer: []};\r\n  let reg =/\\[\\d{2,4}:\\d{2}\\.\\d+\\]/g\r\n  let arr1 = lrc.match(reg)\r\n  lrc = lrc.replace(reg, 'kkk')\r\n  let arr2 = lrc.split('kkk')\r\n  arr2 = arr2.slice(1)\r\n  let timer = []\r\n  arr1.map((item,index) => {\r\n    item = item.replace(/\\[/,'').replace(/\\]/,'')\r\n    let arrtime = item.split(':')\r\n    let time2 = (parseInt(arrtime[0]) * 60 + parseFloat(arrtime[1]))\r\n    timer.push(time2)\r\n    return 0\r\n  })\r\n  return {\r\n    time: arr1,\r\n    lrc: arr2,\r\n    timer\r\n  }\r\n}","import React, { useState, useEffect, useRef, useCallback} from 'react';\r\nimport Scroll from '@/common/scroll'\r\n\r\n\r\nfunction LrcScroll (props){\r\n  const {yy, currentLineNum} = props\r\n\r\n  const lyricLineRef = useRef([]);\r\n\r\n  const [lineEl, setLineEl] = useState()\r\n\r\n  const goNext = useCallback((max) => {\r\n    if ( currentLineNum < 5 ||  currentLineNum >= max) return;\r\n    let lineEl = lyricLineRef.current[currentLineNum-5].current;\r\n    setLineEl(lineEl)\r\n  }, [currentLineNum]);\r\n\r\n  useEffect(() => {\r\n    goNext(yy.length)\r\n  }, [currentLineNum, yy, goNext]);\r\n\r\n  return (\r\n    <Scroll lineEl={lineEl}>\r\n      <div>\r\n        {\r\n          yy.map((item,index) => {\r\n            lyricLineRef.current[index] = React.createRef();\r\n            return (\r\n            <div className={`content ${index === currentLineNum ? 'color': ''}`} key={index} ref={lyricLineRef.current[index]}>{item}</div>\r\n            );\r\n          })\r\n        }\r\n      </div>\r\n    </Scroll>\r\n  )\r\n}\r\n\r\nLrcScroll.defaultProps = {\r\n  yy: []\r\n}\r\nexport default React.memo(LrcScroll)","import styled from 'styled-components'\r\n\r\nexport const Wrap = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  border-radius: 10px;\r\n  overflow:hidden;\r\n  .content{\r\n    line-height: 30px;\r\n    width: 100%;\r\n    text-align: center;\r\n    font-size: 16px;\r\n    color: #666;\r\n    opacity: 0.6\r\n  }\r\n  .color{\r\n    color: green;\r\n    opacity: 1;\r\n  }\r\n`;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { actionsCreators } from '../store'\r\nimport { paserLrc } from '@/utils/lrcParse'\r\nimport LrcScroll from './scroll'\r\nimport { \r\n  Wrap\r\n} from './style';\r\n\r\nfunction LRC (props, ref){\r\n  let {lyric, current, src}  = props\r\n  let {getlrc}  = props\r\n  \r\n  \r\n  const [yy, setYy] = useState(['歌词加载中..'])\r\n  const [currentLineNum, setCurrentLineNum] = useState(-1)\r\n  const [time, setTime] = useState([''])\r\n\r\n  // 获取歌词\r\n  useEffect(() => {\r\n    if (lyric) {\r\n      let arr = paserLrc(lyric)\r\n      setTime(arr.time) \r\n      setYy(arr.lrc)\r\n    }\r\n  }, [lyric])\r\n\r\n  \r\n  // 跳转\r\n  useEffect(() => {\r\n    time.forEach((item, index) => {\r\n      item = item.replace(/\\[/,'').replace(/\\]/,'')\r\n      let arrtime = item.split(':')\r\n      let time = (parseInt(arrtime[0]) * 60 + parseFloat(arrtime[1]))\r\n      if (parseInt(current) === parseInt(time)) {\r\n        setCurrentLineNum(index)\r\n      }\r\n    })\r\n  }, [current, time])\r\n  \r\n  useEffect(() => {\r\n    if (!src) return;\r\n    let id = src.match(/\\d{5,20}/)\r\n    if (id) getlrc(id[0])\r\n  }, [src, getlrc]) \r\n  // 获取歌词\r\n  return (\r\n    <Wrap >\r\n      <LrcScroll yy={yy} currentLineNum={currentLineNum}></LrcScroll>\r\n    </Wrap>\r\n  )\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    lyric: state.getIn(['player', 'lrc']),\r\n    src: state.getIn(['player', 'src']),\r\n    current: state.getIn(['player', 'current']),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getlrc(id) {\r\n      const action = actionsCreators.getlrc(id);\r\n      dispatch(action)\r\n    }\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LRC);","import React, { useState, useEffect, useRef} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { actionsCreators } from './store'\r\n\r\n// 图标\r\nimport {\r\n  PlayCircleFilled,\r\n  DeleteFilled,\r\n} from '@ant-design/icons';\r\n\r\nimport { \r\n  PlayListI\r\n} from './style';\r\n\r\nimport Scroll from '@/common/scroll'\r\n\r\nconst PlayerList = (props) => {\r\n  \r\n  let { playList,  player2, showListflag} = props;\r\n  let { openMusic, removeSong, goList} = props;\r\n\r\n  const [start, setStart] = useState()\r\n  const [distance, setDistance] = useState(0)\r\n  const [initialed, setInitialed] = useState(false)\r\n\r\n  const moveRef = useRef()\r\n  const canmoveRef = useRef(true)\r\n  const startRef = useRef(0)\r\n\r\n  // 放歌\r\n  const goSong =  (e, item) => {\r\n    e.stopPropagation();\r\n    openMusic(item)\r\n  }\r\n\r\n  // 清除 放歌\r\n  const  goremoveSong =  (e, item, player2, playList) => {\r\n    e.stopPropagation();\r\n    removeSong(item, player2, playList)\r\n  }\r\n\r\n  // show\r\n  useEffect(() => {\r\n    moveRef.current.style['transition'] = `all 0.5s`\r\n    moveRef.current.style['transform'] = `translate(0, 0px)`\r\n  }, [showListflag])\r\n\r\n  // 滚动条\r\n  const handleScroll = (pos) => {\r\n    canmoveRef.current = (parseInt(pos.y) === 0)\r\n  }\r\n  // 滑动start\r\n  const handleTouchStart = (e) => {\r\n    if (!canmoveRef.current) return \r\n    console.log(e.nativeEvent.touches[0].pageY)\r\n    setStart(e.nativeEvent.touches[0].pageY)\r\n    startRef.current = e.nativeEvent.touches[0].pageY\r\n    setInitialed(true);\r\n  }\r\n  // 滑动move\r\n  const handleTouchMove = (e) => {\r\n    if (!canmoveRef.current || !initialed) return \r\n    let distance2 = e.nativeEvent.touches[0].pageY - start\r\n    setDistance(distance2);\r\n    console.log(distance2);\r\n    if (distance2 < 0) return\r\n    moveRef.current.style['transition'] = `all 0s`\r\n    moveRef.current.style['transform'] = `translate(0, ${distance}px)`\r\n  }\r\n  // 滑动End\r\n  const handleTouchEnd = (e) => {\r\n    setInitialed(false);\r\n    moveRef.current.style['transition'] = `all 0.5s`\r\n    if (distance > 200) {\r\n      moveRef.current.style['transform'] = `translate(0, 600px)`\r\n      goList(false)\r\n    }\r\n    if (distance <= 200) moveRef.current.style['transform'] = `translate(0, 0)`\r\n  }\r\n\r\n\r\n  return (\r\n    <PlayListI onClick={() => { goList(false) }}>\r\n      <div className=\"wrap\" \r\n        onClick={(e) => {e.stopPropagation()}}\r\n        onTouchStart={handleTouchStart}\r\n        onTouchMove={handleTouchMove}\r\n        onTouchEnd={handleTouchEnd}\r\n        ref={moveRef}\r\n      >\r\n        <Scroll bounceTop={false} handleScroll={handleScroll}>\r\n          <div>\r\n              {\r\n                playList.map(((item, index) => {\r\n                  return (\r\n                    <div className=\"itemL\" key={index} onClick={(e) => {goSong(e, item)}}>\r\n                      <div className=\"playcon\">\r\n                        {player2.id === item.id ? <PlayCircleFilled /> : null}\r\n                      </div>\r\n                      <div className=\"name2\">{item.title}</div>\r\n                      <div className=\"icos\">\r\n                        <DeleteFilled onClick={(e) => {goremoveSong(e, item, player2, playList)}}/>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                }))\r\n              }\r\n            </div>\r\n        </Scroll>\r\n      </div>\r\n    </PlayListI>\r\n  )\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    player2: state.getIn(['player', 'playerinfo']),\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    openMusic(item) {\r\n      const action = actionsCreators.getSrc(item.id)\r\n      const action2 = actionsCreators.setCurrentPlayer(item)\r\n      dispatch(action)\r\n      dispatch(action2)\r\n    },\r\n    removeSong(item, player2, list) {\r\n      if ((item.id === player2.id) && list.length >= 2) {\r\n        const action = actionsCreators.goNext(item.id, list, true)\r\n        dispatch(action)\r\n      }\r\n      const action = actionsCreators.removeSong(item)\r\n      dispatch(action)\r\n    },\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerList);","import React, { useState, useEffect, memo, useRef} from 'react';\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport { connect } from 'react-redux'\r\nimport { actionsCreators } from './store'\r\nimport MusicStart from '@/common/musicStart'\r\n\r\nimport { Slider } from 'antd';\r\n// 图标\r\nimport {\r\n  PlayCircleFilled,\r\n  PauseCircleFilled,\r\n  AlignRightOutlined,\r\n  DownOutlined,\r\n  VerticalLeftOutlined,\r\n  VerticalRightOutlined,\r\n  SyncOutlined,\r\n  LoginOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { \r\n  AudioWrap,\r\n  IPlayer,\r\n  Nplayer,\r\n} from './style';\r\n\r\nimport Lrc from './lrc'\r\nimport PlyerList from './list'\r\n\r\nconst Player = memo((props) => {\r\n  let { play, volume, src, player2, playList, showMini , circle, xy} = props;\r\n  let { setplay, setCurrenttimestate, toggleMini, goNext, toggleCircle, openPlayer} = props;\r\n\r\n  const [duration, setDuration] = useState(0)\r\n  const [currentTime, setCurrentTime] = useState(0)\r\n  const [showListflag, setShowListflag] = useState(false)\r\n\r\n  const audioRef = useRef();\r\n  const playerRef = useRef();\r\n  const musicRef = useRef();\r\n\r\n  // 切换歌曲\r\n  useEffect(() => {\r\n    if (src) {\r\n      audioRef.current.src = src;\r\n      audioRef.current.autoplay = true;\r\n      audioRef.current.loop = true \r\n      if (!play) setplay()\r\n      // if (showMini && musicRef.current) musicRef.current.getPositon(xy.x, xy.y, showMini)\r\n    }\r\n  }, [src, setplay]);\r\n\r\n  // 动画\r\n  useEffect(() => {\r\n    if (xy.x && xy.y && showMini && musicRef.current) musicRef.current.getPositon(xy.x, xy.y, showMini)\r\n  }, [xy]);\r\n\r\n  // 播放暂停切换\r\n  useEffect(() => {\r\n    if (audioRef.current) {\r\n      if (play) audioRef.current.play();\r\n      if (!play) audioRef.current.pause();\r\n      openPlayer()\r\n    }\r\n    playerRef.current = true\r\n  }, [play, openPlayer]);\r\n\r\n  // 声音\r\n  useEffect(() => {\r\n    if (audioRef.current) audioRef.current.volume = volume / 100\r\n  }, [volume]);\r\n  let icon = (\r\n    play ? <div className=\"ico\" onClick={setplay}><PauseCircleFilled /></div> \r\n      : <div  className=\"ico\" onClick={setplay}><PlayCircleFilled /></div>\r\n  )\r\n\r\n  // 时间播放新位置\r\n  let updateTime = () => {\r\n    setDuration(audioRef.current.duration)\r\n    setCurrentTime(parseInt(audioRef.current.currentTime))\r\n    setCurrenttimestate(audioRef.current.currentTime)\r\n    // 播放下一曲\r\n    if ((audioRef.current.duration - audioRef.current.currentTime <= 1) && !circle) goNext(player2.id, playList, true) \r\n  }\r\n\r\n  let setDurationsit = (value) => {\r\n    audioRef.current.currentTime = value / 100 * duration\r\n  }\r\n\r\n  // 获取时分\r\n  const getSecondMin = (sec) => {\r\n    let min = parseInt(sec) / 60 > 0 ? parseInt(parseInt(sec) / 60) : '0'\r\n    let sec2= parseInt(parseInt(sec) % 60)\r\n    return `${min >= 10 ? min : '0' + min}: ${sec2 >= 10 ? sec2 : '0' + sec2}`\r\n  }\r\n\r\n  // 显示列表\r\n  const goList = (flag) => {\r\n    setShowListflag(flag);\r\n  }\r\n\r\n  // 播放列表\r\n  let list = (\r\n    <PlyerList playList={playList} goList={goList} showListflag={showListflag}></PlyerList>\r\n  )\r\n\r\n  // mini palyer\r\n  let mini = (\r\n    <IPlayer>\r\n      {player2.pic ? <img src={ player2.pic + '?param=100x100' } className=\"pic\" alt=\"\" onClick={toggleMini} /> : null }\r\n      <div className=\"title-wrap\" onClick={toggleMini}>\r\n        <div className=\"name\">{player2.title}</div>\r\n        <div className=\"singer\">{player2.singer}</div>\r\n      </div>\r\n      {icon}\r\n      <AlignRightOutlined onClick={(e) => {goList(true)}}/>\r\n    </IPlayer>\r\n  )\r\n\r\n  //  大号音乐播放\r\n  let normal = (\r\n    <Nplayer >\r\n      <div className=\"top\">\r\n        <DownOutlined onClick={toggleMini}/>\r\n        <div className=\"right\">\r\n          <div className=\"title\">{player2.title}</div>\r\n          <div className=\"singer\">{player2.singer}</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"wraper\">\r\n        <div className=\"lrc-cont\"><Lrc></Lrc></div>\r\n        <div className=\"progress\">\r\n          <div className=\"cur\">{getSecondMin(currentTime)}</div>\r\n          <div className=\"pro-bar\"><Slider  value={currentTime / duration * 100} onChange={(value)=> {setDurationsit(value)}}/> </div>\r\n          <div className=\"total\">{getSecondMin(duration)}</div>\r\n        </div>\r\n        <div className=\"button\">\r\n          {\r\n            circle ? <LoginOutlined onClick={toggleCircle}/> : <SyncOutlined onClick={toggleCircle}/>\r\n          }\r\n          <VerticalRightOutlined onClick={() => goNext(player2.id, playList, false) } />\r\n          {icon}\r\n          <VerticalLeftOutlined onClick={() => goNext(player2.id, playList, true) } />\r\n          <AlignRightOutlined onClick={(e) => {goList(true)}}/>\r\n        </div>\r\n      </div>\r\n      \r\n    </Nplayer>\r\n  )\r\n\r\n  // 播放器主体\r\n  return (\r\n    <div>\r\n      {\r\n        playerRef.current ? \r\n          <AudioWrap>\r\n            <audio \r\n              className=\"audio\"\r\n              controls=\"controls\"\r\n              onTimeUpdate={updateTime}\r\n              ref={audioRef}\r\n            ></audio>\r\n            <CSSTransition timeout={1000}>\r\n              {showMini? mini: normal}\r\n            </CSSTransition>\r\n            {showListflag ? list : null}\r\n          </AudioWrap>\r\n        : null\r\n      }\r\n      {/* 动画 */}\r\n      <MusicStart ref={musicRef}></MusicStart>\r\n    </div>\r\n  )\r\n});\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    play: state.getIn(['player', 'play']),\r\n    xy: state.getIn(['player', 'xy']),\r\n    volume: state.getIn(['player', 'volume']),\r\n    src: state.getIn(['player', 'src']),\r\n    current: state.getIn(['player', 'current']),\r\n    player2: state.getIn(['player', 'playerinfo']),\r\n    playList: state.getIn(['player', 'playList']),\r\n    showMini: state.getIn(['player', 'showMini']),\r\n    circle: state.getIn(['player', 'circle']),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    openPlayer() {\r\n      const action = actionsCreators.openPlayer()\r\n      dispatch(action)\r\n    },\r\n    setplay(flag) {\r\n      const action = actionsCreators.setPlay(flag)\r\n      dispatch(action)\r\n    },\r\n    setVolume(num) {\r\n      const action = actionsCreators.setVolume(num)\r\n      dispatch(action)\r\n    },\r\n    setCurrenttimestate(time) {\r\n      const action = actionsCreators.setCurrenttime(time)\r\n      dispatch(action)\r\n    },\r\n    openMusic(item) {\r\n      const action = actionsCreators.getSrc(item.id)\r\n      const action2 = actionsCreators.setCurrentPlayer(item)\r\n      dispatch(action)\r\n      dispatch(action2)\r\n    },\r\n    toggleMini() {\r\n      const action = actionsCreators.toggleMini()\r\n      dispatch(action)\r\n    },\r\n    goNext(id, list, flag) {\r\n      const action = actionsCreators.goNext(id, list, flag)\r\n      dispatch(action)\r\n    },\r\n    toggleCircle() {\r\n      const action = actionsCreators.toggleCircle()\r\n      dispatch(action)\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Player);","import React from 'react';\nimport { HashRouter} from \"react-router-dom\";\nimport { renderRoutes } from \"react-router-config\";\nimport {routes} from './router/index'\nimport Player from '@/views/player'\n\nimport { connect } from 'react-redux'\nimport { Spin } from 'antd';\nimport './index.css'\nfunction App(props) {\n  \n  const {loading} = props;\n\n  return (\n    <div className=\"App\">\n      { loading? <Spin className=\"loading-icon\" size=\"large\"></Spin>: null }\n      <div className=\"app-wrap\">  \n        <HashRouter>\n          {renderRoutes(routes)}\n        </HashRouter>\n      </div>\n      <div className=\"player-wrap-all\">\n        <Player></Player>\n      </div>\n    </div>\n  );\n}\nconst mapStateToProps = (state) => {\n  return {\n    loading: state.getIn(['player', 'loading']),\n  };\n};\n\nexport default connect(mapStateToProps, null)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Globalstyle} from './style.js';\nimport '@/statics/icon-font/iconfont.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from '@/store';\nimport { Provider } from 'react-redux';\nimport \"lib-flexible\"\nimport 'antd/dist/antd.css';\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n    <Globalstyle /> \n  </Provider>,\ndocument.getElementById('root'));\n// document.getElementsByTagName('html')[0].style.fontSize = (document.documentElement.clientWidth || document.body.clientWidth) /10 + 'px';\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import Axios from \"axios\" \r\nimport store from '@/store';\r\nimport { actionsCreators as actionsCreatorsPlayer } from '@/views/player/store'\r\nconst BasicUrl = '/music-api'\r\nexport const fetch = (options) => {\r\n  let opts = Object.assign({\r\n    method: 'POST',\r\n  }, options)\r\n  opts.url = BasicUrl + opts.url\r\n  store.dispatch(actionsCreatorsPlayer.setLoading(true))\r\n  return new Promise((resolve, reject) => {\r\n    Axios(opts).then(res => {\r\n      store.dispatch(actionsCreatorsPlayer.setLoading(false))\r\n      if (res.data.code === 200) {\r\n        resolve(res.data);\r\n      } else {\r\n        reject(res.data);\r\n      }\r\n    }).catch(err => {\r\n      store.dispatch(actionsCreatorsPlayer.setLoading(false))\r\n      reject(err);\r\n    });\r\n  })\r\n}","import { fetch } from '@/utils/fetch'\r\nexport const getSongUr = (params) => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/banner'\r\n  })\r\n}\r\n\r\nexport const getPersonal = (params) => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/personalized'\r\n  })\r\n}\r\n// 获取详情\r\nexport const getPlaylistDetail = (params) => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/playlist/detail',\r\n    params\r\n  })\r\n}\r\n// 歌曲链接\r\nexport const getSongUrlSrc = id => {\r\n  return `https://music.163.com/song/media/outer/url?id=${id}.mp3`;\r\n};\r\n// 歌词链接\r\nexport const getSongLrc = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/lyric',\r\n    params\r\n  })\r\n};\r\n// 搜索建议\r\nexport const getSuggest = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/search/suggest',\r\n    params\r\n  })\r\n};\r\n// 搜索建议\r\nexport const getSearch = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/search',\r\n    params\r\n  })\r\n};\r\n// 获取歌手\r\nexport const getArtists = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/top/artists',\r\n    params\r\n  })\r\n};\r\n// 获取歌手 搜索条件\r\nexport const getArtistsList = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/artist/list',\r\n    params\r\n  })\r\n};\r\n// 获取歌手 详情\r\nexport const getArtistsListDetail = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/artists',\r\n    params\r\n  })\r\n};\r\n// 排行榜\r\nexport const getTopList = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/toplist/detail',\r\n    params\r\n  })\r\n};\r\n\r\n//获取歌曲详情 \r\nexport const getSongsDetail = params => {\r\n  return fetch({\r\n    method: 'get',\r\n    url: '/song/detail',\r\n    params\r\n  })\r\n};","import { reducer as recomendReducer } from '@/views/recomend/store'\r\nimport { reducer as PlayerReducer } from '@/views/player/store'\r\n// 将最外层的state转化成immutable对象\r\nimport { combineReducers } from 'redux-immutable'\r\n\r\nexport default combineReducers({\r\n  recomend: recomendReducer,\r\n  player: PlayerReducer,\r\n})","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport reducer from './reducer';\r\nimport thunk from 'redux-thunk';\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducer, /* preloadedState, */ \r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\nexport default store;","import styled from 'styled-components'\r\n\r\nexport const ScrollCont = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden\r\n`","import React, { useRef, useEffect} from 'react';\r\n// import { CSSTransition } from 'react-transition-group'\r\n\r\nimport BScroll from 'better-scroll'\r\n\r\n// 样式\r\nimport { \r\n  ScrollCont\r\n} from './style';\r\n\r\n\r\nfunction Scroll (props){\r\n  const {bounceTop, bounceBottom, lineEl} = props\r\n  const {handleScroll} = props\r\n  const wrapRef = useRef();\r\n  const usescollRef = useRef();\r\n\r\n  // 滚动元素\r\n  useEffect(() => {\r\n    if (lineEl) usescollRef.current.scrollToElement(lineEl, 1000);\r\n  }, [lineEl])\r\n\r\n  // 滚动\r\n  useEffect(() => {\r\n    if (!wrapRef.current) return\r\n    usescollRef.current = new BScroll(wrapRef.current, {\r\n      scrollY: true,\r\n      click: true,\r\n      mouseWheel: true,\r\n      probeType: 3,\r\n      bounce:{\r\n        top: bounceTop,\r\n        bottom: bounceBottom\r\n      }\r\n    }); \r\n    usescollRef.current.on('scroll', (pos) => {\r\n      handleScroll(pos)\r\n    });\r\n  }, [bounceTop, bounceBottom, handleScroll]);\r\n\r\n  return (\r\n    <ScrollCont ref={wrapRef}>\r\n      {props.children}\r\n    </ScrollCont>\r\n  )\r\n}\r\n\r\nScroll.defaultProps = {\r\n  bounceTop: true,\r\n  bounceBottom: true,\r\n  handleScroll: (pos) => {},\r\n  lineEl: null\r\n}\r\n\r\nexport default Scroll;","export const SET_PLAY = 'player/play'\r\nexport const SET_VOLUME = 'player/volume'\r\nexport const SET_SRC = 'player/src'\r\nexport const SET_LRC = 'player/lrc'\r\nexport const SET_CURRENT = 'player/time'\r\nexport const SET_PLAYER = 'player/playerinfo'\r\nexport const SET_LIST = 'player/list'\r\nexport const TOGGlE_MINI = 'player/toggleMini'\r\nexport const SET_NEXT = 'player/goNext'\r\nexport const SET_REMOVE = 'player/goRemove'\r\nexport const TOGGLE_CIRCLE = 'player/toggleCircle'\r\nexport const PUSH_LIST = 'player/pushSong'\r\nexport const OPEN_PLAYER = 'player/openPlayer'\r\nexport const SET_LOADING = 'player/loading'\r\nexport const SET_XY = 'player/xy'","import { SET_PLAY,SET_LOADING, SET_SRC, SET_VOLUME, SET_LRC, SET_CURRENT, SET_PLAYER, SET_LIST, SET_XY, TOGGlE_MINI, SET_REMOVE, TOGGLE_CIRCLE, PUSH_LIST, OPEN_PLAYER } from './actionType'\r\n// immutable 库\r\nimport { fromJS} from 'immutable'\r\nconst defaultState = fromJS({\r\n  play: false,\r\n  volume: 100, \r\n  src: '',\r\n  lrc: '',\r\n  current: 0,\r\n  playerinfo: {},\r\n  xy: {},\r\n  playList: [],\r\n  showMini: false,\r\n  openPlayer: false,\r\n  circle: false,\r\n  loading: false\r\n})\r\nexport default (state = defaultState, action) => {\r\n  if (action.type === SET_PLAY ) {\r\n    return state.set('play', !state.get('play'))\r\n  };\r\n  if (action.type === SET_LOADING ) {\r\n    return state.set('loading', action.value)\r\n  };\r\n  if (action.type === SET_VOLUME) {\r\n    return state.set('volume', action.value)\r\n  }\r\n  if (action.type === SET_SRC) {\r\n    return state.set('src', action.value)\r\n  }\r\n  if (action.type === SET_XY) {\r\n    return state.set('xy', action.value)\r\n  }\r\n  if (action.type === SET_LRC) {\r\n    return state.set('lrc', action.value)\r\n  }\r\n  if (action.type === SET_CURRENT) {\r\n    return state.set('current', action.value)\r\n  }\r\n  if (action.type === SET_PLAYER) {\r\n    return state.set('playerinfo', action.value)\r\n  }\r\n  if (action.type === TOGGlE_MINI) {\r\n    return state.set('showMini', !state.get('showMini'))\r\n  }\r\n  if (action.type === SET_LIST) {\r\n    return state.set('playList', action.value)\r\n  }\r\n  if (action.type === PUSH_LIST) {\r\n    const list = state.get('playList')\r\n    let arr = []\r\n    list.forEach((item, index) => {\r\n      if (action.value.id !== item.id) {\r\n        arr.push(item)\r\n      }\r\n    })\r\n    arr.unshift(action.value)\r\n    return state.set('playList', arr)\r\n  }\r\n  if (action.type === TOGGLE_CIRCLE) {\r\n    return state.set('circle', !state.get('circle'))\r\n  }\r\n  if (action.type === OPEN_PLAYER) {\r\n    return state.set('openPlayer', true)\r\n  }\r\n  if (action.type === SET_REMOVE) {\r\n    const list = state.get('playList')\r\n    let arr = []\r\n    list.forEach(item => {\r\n      if (action.value.id !== item.id) {\r\n        arr.push(item)\r\n      }\r\n    })\r\n    return state.set('playList', arr)\r\n  }\r\n  return state;\r\n}","import { \r\n  SET_PLAY, \r\n  SET_VOLUME,\r\n  SET_SRC,\r\n  SET_LRC,\r\n  SET_CURRENT,\r\n  SET_PLAYER,\r\n  SET_LIST,\r\n  TOGGlE_MINI,\r\n  SET_REMOVE,\r\n  TOGGLE_CIRCLE,\r\n  PUSH_LIST,\r\n  OPEN_PLAYER,\r\n  SET_LOADING,\r\n  SET_XY\r\n} from './actionType'\r\n\r\nimport * as api from '@/api'\r\nexport const setPlay = () => ({\r\n  type: SET_PLAY\r\n});\r\nexport const setVolume = (num) => ({\r\n  type: SET_VOLUME,\r\n  value: num\r\n});\r\nexport const setLoading = (value) => ({\r\n  type: SET_LOADING,\r\n  value\r\n});\r\nexport const setSrc = (src) => ({\r\n  type: SET_SRC,\r\n  value: src\r\n});\r\nexport const setXY = (xy) => ({\r\n  type: SET_XY,\r\n  value: xy\r\n});\r\nexport const setlrc = (src) => ({\r\n  type: SET_LRC,\r\n  value: src\r\n});\r\nexport const setCurrenttime = (time) => ({\r\n  type: SET_CURRENT,\r\n  value: time\r\n});\r\nexport const setCurrentPlayer = (player) => ({\r\n  type: SET_PLAYER,\r\n  value: player\r\n});\r\n// 设置 播放列表\r\nexport const setPlaylist = (list) => ({\r\n  type: SET_LIST,\r\n  value: list\r\n});\r\n// 添加 播放列表\r\nexport const pushPlaylist = (song) => ({\r\n  type: PUSH_LIST,\r\n  value: song\r\n});\r\n// 切换 大小播放器\r\nexport const toggleMini = () => ({\r\n  type: TOGGlE_MINI\r\n});\r\n//移除歌曲\r\nexport const removeSong = (item) => ({\r\n  type: SET_REMOVE,\r\n  value: item\r\n});\r\n// 打开音乐播放器\r\nexport const openPlayer = () => ({\r\n  type: OPEN_PLAYER\r\n});\r\n//移除歌曲\r\nexport const toggleCircle = (item) => ({\r\n  type: TOGGLE_CIRCLE,\r\n});\r\n// 上下一曲\r\nexport const goNext = (id, list, flag) => {\r\n  let player = {}\r\n  let index1 = 0\r\n  let list1 = JSON.parse(JSON.stringify(list))\r\n  list1.forEach((item, index) => {\r\n    if (item.id ===  id) {\r\n      if (flag) index1 = index + 1\r\n      if (!flag) index1 = index - 1\r\n    }\r\n  })\r\n  if (index1 === list.length) index1 = 0\r\n  if (index1 === -1) index1 = list.length - 1\r\n  \r\n  player = list1.splice(index1, 1)\r\n  return (dispatch) => {\r\n    dispatch(getSrc(player[0].id))\r\n    dispatch(setCurrentPlayer(player[0]))\r\n  }\r\n};\r\n// 获取歌曲src\r\nexport const getSrc = (id) => {\r\n  return (dispatch) => {\r\n    // 异步操作\r\n    let src = api.getSongUrlSrc(id)\r\n    // dispatch过去\r\n    let action  = setSrc(src)\r\n    dispatch(action)\r\n  };\r\n};\r\nexport const getlrc = (id) => {\r\n  return (dispatch) => {\r\n    // 异步操作\r\n    api.getSongLrc({id}).then(res => {\r\n      let action = setlrc(res.lrc.lyric)\r\n      dispatch(action)\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n\r\n  }\r\n}","import reducer from './reducer'\r\nimport * as actionType from './actionType'\r\nimport * as actionsCreators from './actionCreators'\r\nexport {\r\n  reducer,\r\n  actionType,\r\n  actionsCreators\r\n}"],"sourceRoot":""}